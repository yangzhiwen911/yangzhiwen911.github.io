(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{237:function(a,s,t){"use strict";t.r(s);var e=t(0),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"mysqlè¯¦è§£-ä¼˜åŒ–è®°å½•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysqlè¯¦è§£-ä¼˜åŒ–è®°å½•"}},[a._v("#")]),a._v(" MySQLè¯¦è§£&ä¼˜åŒ–è®°å½•")]),a._v(" "),t("Badge",{attrs:{text:"MySQL",vertical:"middle"}}),a._v(" "),t("Badge",{attrs:{text:"ä¼˜åŒ–",vertical:"middle"}}),a._v(" "),t("Badge",{attrs:{text:"2019-02-14",type:"warning",vertical:"middle"}}),a._v(" "),t("h2",{attrs:{id:"æ¦‚è¿°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°"}},[a._v("#")]),a._v(" æ¦‚è¿°")]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("MySQL")]),a._v(" "),t("p",[t("code",[a._v("MySQL")]),a._v("æ˜¯ä¸€ä¸ªå…³ç³»å‹"),t("code",[a._v("æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ")]),a._v("ï¼Œç”±ç‘å…¸MySQL AB å…¬å¸å¼€å‘ï¼Œç›®å‰å±äº Oracle æ——ä¸‹äº§å“ã€‚"),t("code",[a._v("MySQL")]),a._v(" æ˜¯æœ€æµè¡Œçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¹‹ä¸€ï¼Œåœ¨ WEB åº”ç”¨æ–¹é¢ï¼Œ"),t("code",[a._v("MySQL")]),a._v("æ˜¯æœ€å¥½çš„ "),t("code",[a._v("RDBMS")]),a._v(" (Relational Database Management Systemï¼Œå…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ) åº”ç”¨è½¯ä»¶ã€‚\nMySQLæ˜¯ä¸€ç§å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå…³ç³»æ•°æ®åº“å°†æ•°æ®ä¿å­˜åœ¨ä¸åŒçš„è¡¨ä¸­ï¼Œè€Œä¸æ˜¯å°†æ‰€æœ‰æ•°æ®æ”¾åœ¨ä¸€ä¸ªå¤§ä»“åº“å†…ï¼Œè¿™æ ·å°±å¢åŠ äº†é€Ÿåº¦å¹¶æé«˜äº†çµæ´»æ€§ã€‚\nMySQLæ‰€ä½¿ç”¨çš„ SQL è¯­è¨€æ˜¯ç”¨äºè®¿é—®æ•°æ®åº“çš„æœ€å¸¸ç”¨æ ‡å‡†åŒ–è¯­è¨€ã€‚MySQL è½¯ä»¶é‡‡ç”¨äº†åŒæˆæƒæ”¿ç­–ï¼Œåˆ†ä¸ºç¤¾åŒºç‰ˆå’Œå•†ä¸šç‰ˆï¼Œç”±äºå…¶ä½“ç§¯å°ã€é€Ÿåº¦å¿«ã€æ€»ä½“æ‹¥æœ‰æˆæœ¬ä½ï¼Œå°¤å…¶æ˜¯å¼€æ”¾æºç è¿™ä¸€ç‰¹ç‚¹ï¼Œä¸€èˆ¬ä¸­å°å‹ç½‘ç«™çš„å¼€å‘éƒ½é€‰æ‹© MySQL ä½œä¸ºç½‘ç«™æ•°æ®åº“ã€‚")])]),a._v(" "),t("h2",{attrs:{id:"æ–°ç‰¹æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ–°ç‰¹æ€§"}},[a._v("#")]),a._v(" æ–°ç‰¹æ€§")]),a._v(" "),t("ul",[t("li",[a._v("è¡¨å’Œç´¢å¼•çš„åˆ†åŒº")]),a._v(" "),t("li",[a._v("è¡Œçº§å¤åˆ¶")]),a._v(" "),t("li",[a._v("MySQL åŸºç¾¤åŸºäºç£ç›˜çš„æ•°æ®æ”¯æŒ")]),a._v(" "),t("li",[a._v("MySQL é›†ç¾¤å¤åˆ¶")]),a._v(" "),t("li",[a._v("å¢å¼ºçš„å…¨æ–‡æœ¬æœç´¢å‡½æ•°")]),a._v(" "),t("li",[a._v("å¢å¼ºçš„ä¿¡æ¯æ¨¡å¼(æ•°æ®å­—å…¸)")]),a._v(" "),t("li",[a._v("å¯æ’å…¥çš„ API")]),a._v(" "),t("li",[a._v("æœåŠ¡å™¨æ—¥å¿—è¡¨")]),a._v(" "),t("li",[a._v("XMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„å­é›†ï¼‰/ XPathæ”¯æŒ")]),a._v(" "),t("li",[a._v("å®ä¾‹ç®¡ç†å™¨")]),a._v(" "),t("li",[a._v("è¡¨ç©ºé—´å¤‡ä»½")]),a._v(" "),t("li",[a._v("mysql_upgrade å‡çº§ç¨‹åº")]),a._v(" "),t("li",[a._v("å†…éƒ¨ä»»åŠ¡/äº‹ä»¶è°ƒåº¦å™¨")]),a._v(" "),t("li",[a._v("æ–°çš„æ€§èƒ½å·¥å…·å’Œé€‰é¡¹å¦‚ mysqlslap")])]),a._v(" "),t("h2",{attrs:{id:"dbms"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dbms"}},[a._v("#")]),a._v(" DBMS")]),a._v(" "),t("p",[t("strong",[a._v("æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ(DataBase Manage System)ã€‚")])]),a._v(" "),t("ul",[t("li",[t("p",[a._v("DQL")])]),a._v(" "),t("li",[t("p",[a._v("æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼ˆData Query Language, DQLï¼‰æ˜¯SQLè¯­è¨€ä¸­ï¼Œè´Ÿè´£è¿›è¡Œæ•°æ®æŸ¥è¯¢è€Œä¸ä¼šå¯¹æ•°æ®æœ¬èº«è¿›è¡Œä¿®æ”¹çš„è¯­å¥ï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„SQLè¯­å¥ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("DDL")])]),a._v(" "),t("li",[t("p",[a._v("æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆData Definition Languageï¼ŒDDLï¼‰æ˜¯SQLè¯­è¨€é›†ä¸­è´Ÿè´£æ•°æ®ç»“æ„å®šä¹‰ä¸æ•°æ®åº“å¯¹è±¡å®šä¹‰çš„è¯­è¨€ï¼Œç”±CREATEã€ALTERä¸DROPä¸‰ä¸ªè¯­æ³•æ‰€ç»„æˆï¼Œæœ€æ—©æ˜¯ç”±Codasylï¼ˆConference on Data Systems Languagesï¼‰æ•°æ®æ¨¡å‹å¼€å§‹ï¼Œç°åœ¨è¢«çº³å…¥SQLæŒ‡ä»¤ä¸­ä½œä¸ºå…¶ä¸­ä¸€ä¸ªå­é›†ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("DML")])]),a._v(" "),t("li",[t("p",[a._v("æ•°æ®æ“çºµè¯­è¨€ï¼ˆData Manipulation Language, DMLï¼‰æ¬§ç¾åœ°åŒºçš„å¼€å‘äººå‘˜æŠŠè¿™å››ç§æŒ‡ä»¤ï¼Œä»¥â€œCRUDâ€(åˆ†åˆ«ä¸º Create, Read, Update, Deleteè‹±æ–‡å››å‰ç¼€å­—æ¯ç¼©ç•¥çš„æœ¯è¯­)æ¥ç§°å‘¼ï¼›è€Œäºšæ´²åœ°åŒºä½¿ç”¨æ±‰è¯­çš„å¼€å‘äººå‘˜ï¼Œæˆ–å¯èƒ½ä»¥å››ä¸ªæ±‰å­—ï¼šå¢ æŸ¥ æ”¹ åˆ  æ¥ç•¥ç§°ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("DCL")])]),a._v(" "),t("li",[t("p",[a._v("æ•°æ®æ§åˆ¶è¯­è¨€ (Data Control Language) åœ¨SQLè¯­è¨€ä¸­ï¼Œæ˜¯ä¸€ç§å¯å¯¹æ•°æ®è®¿é—®æƒè¿›è¡Œæ§åˆ¶çš„æŒ‡ä»¤ï¼Œå®ƒå¯ä»¥æ§åˆ¶ç‰¹å®šç”¨æˆ·è´¦æˆ·å¯¹æ•°æ®è¡¨ã€æŸ¥çœ‹è¡¨ã€é¢„å­˜ç¨‹åºã€ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ç­‰æ•°æ®åº“å¯¹è±¡çš„æ§åˆ¶æƒã€‚ç”± GRANT å’Œ REVOKE ä¸¤ä¸ªæŒ‡ä»¤ç»„æˆã€‚")])])]),a._v(" "),t("h2",{attrs:{id:"mvcc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mvcc"}},[a._v("#")]),a._v(" MVCC")]),a._v(" "),t("p",[t("code",[a._v("MVCC")]),a._v(" æ˜¯ä¸€ç§å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶æœºåˆ¶ï¼Œæ˜¯é€šè¿‡ä¿å­˜æ•°æ®åœ¨æŸä¸ªæ—¶é—´ç‚¹çš„å¿«ç…§æ¥å®ç°çš„. ä¸åŒå­˜å‚¨å¼•æ“çš„"),t("code",[a._v("MVCC")]),a._v(". ä¸åŒå­˜å‚¨å¼•æ“çš„MVCCå®ç°æ˜¯ä¸åŒçš„,å…¸å‹çš„æœ‰ä¹è§‚å¹¶å‘æ§åˆ¶å’Œæ‚²è§‚å¹¶å‘æ§åˆ¶ã€‚")]),a._v(" "),t("ul",[t("li",[a._v("å¤§å¤šæ•°çš„MYSQLäº‹åŠ¡å‹å­˜å‚¨å¼•æ“,å¦‚InnoDBï¼ŒFalconä»¥åŠPBXTéƒ½ä¸ä½¿ç”¨ä¸€ç§ç®€å•çš„è¡Œé”æœºåˆ¶.äº‹å®ä¸Š,ä»–ä»¬éƒ½å’Œ"),t("code",[a._v("MVCC")]),a._v("â€“å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶æ¥ä¸€èµ·ä½¿ç”¨.")]),a._v(" "),t("li",[a._v("ä¼—æ‰€å‘¨çŸ¥,é”æœºåˆ¶å¯ä»¥æ§åˆ¶å¹¶å‘æ“ä½œ,ä½†æ˜¯å…¶ç³»ç»Ÿå¼€é”€è¾ƒå¤§,è€ŒMVCCå¯ä»¥åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä»£æ›¿è¡Œçº§é”,ä½¿ç”¨"),t("code",[a._v("MVCC")]),a._v(",èƒ½é™ä½å…¶ç³»ç»Ÿå¼€é”€.")])]),a._v(" "),t("h2",{attrs:{id:"äº‹åŠ¡éš”ç¦»çº§åˆ«"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº‹åŠ¡éš”ç¦»çº§åˆ«"}},[a._v("#")]),a._v(" äº‹åŠ¡éš”ç¦»çº§åˆ«")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("äº‹åŠ¡æ˜¯æ•°æ®åº“ç³»ç»ŸåŒºåˆ«äºå…¶ä»–ä¸€åˆ‡æ–‡ä»¶ç³»ç»Ÿçš„é‡è¦ç‰¹æ€§ä¹‹ä¸€")])]),a._v(" "),t("li",[t("p",[a._v("äº‹åŠ¡æ˜¯ä¸€ç»„å…·æœ‰åŸå­æ€§çš„SQLè¯­å¥ï¼Œæˆ–è€…ä¸€ä¸ªç‹¬ç«‹çš„å·¥ä½œå•å…ƒ")])])]),a._v(" "),t("p",[a._v("mysqlé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸º "),t("code",[a._v("repeatable-read")]),a._v("ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥è¯¢ï¼š")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("select")]),a._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("@tx_isolation")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("p",[a._v("| äº‹åŠ¡éš”ç¦»çº§åˆ«        | è„è¯»           | ä¸å¯é‡å¤è¯»          | å¹»è¯»     |\n| ------------- |:-------------ğŸ˜ :-------------ğŸ˜\n| è¯»æœªæäº¤ï¼ˆread-uncommittedï¼‰     | æ˜¯ | æ˜¯ |  æ˜¯   |\n| ä¸å¯é‡å¤è¯»ï¼ˆread-committedï¼‰      | å¦  |  æ˜¯ |  æ˜¯  |\n| å¯é‡å¤è¯»ï¼ˆrepeatable-readï¼‰      | å¦ | å¦   | \tæ˜¯\t|\n| ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰      |  å¦ | å¦ | \tå¦\t|")]),a._v(" "),t("h2",{attrs:{id:"äº‹åŠ¡çš„åŸºæœ¬è¦ç´ ï¼ˆacidï¼‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº‹åŠ¡çš„åŸºæœ¬è¦ç´ ï¼ˆacidï¼‰"}},[a._v("#")]),a._v(" äº‹åŠ¡çš„åŸºæœ¬è¦ç´ ï¼ˆACIDï¼‰")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("1ã€åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡å¼€å§‹åæ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨åšå®Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸åšï¼Œä¸å¯èƒ½åœæ»åœ¨ä¸­é—´ç¯èŠ‚ã€‚äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºé”™ï¼Œä¼šå›æ»šåˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œæ‰€æœ‰çš„æ“ä½œå°±åƒæ²¡æœ‰å‘ç”Ÿä¸€æ ·ã€‚ä¹Ÿå°±æ˜¯è¯´äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ•´ä½“ï¼Œå°±åƒåŒ–å­¦ä¸­å­¦è¿‡çš„åŸå­ï¼Œæ˜¯ç‰©è´¨æ„æˆçš„åŸºæœ¬å•ä½ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("2ã€ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šäº‹åŠ¡å¼€å§‹å‰å’Œç»“æŸåï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§çº¦æŸæ²¡æœ‰è¢«ç ´å ã€‚æ¯”å¦‚Aå‘Bè½¬è´¦ï¼Œä¸å¯èƒ½Aæ‰£äº†é’±ï¼ŒBå´æ²¡æ”¶åˆ°ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("3ã€éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šåŒä¸€æ—¶é—´ï¼Œåªå…è®¸ä¸€ä¸ªäº‹åŠ¡è¯·æ±‚åŒä¸€æ•°æ®ï¼Œä¸åŒçš„äº‹åŠ¡ä¹‹é—´å½¼æ­¤æ²¡æœ‰ä»»ä½•å¹²æ‰°ã€‚æ¯”å¦‚Aæ­£åœ¨ä»ä¸€å¼ é“¶è¡Œå¡ä¸­å–é’±ï¼Œåœ¨Aå–é’±çš„è¿‡ç¨‹ç»“æŸå‰ï¼ŒBä¸èƒ½å‘è¿™å¼ å¡è½¬è´¦ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("4ã€æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šäº‹åŠ¡å®Œæˆåï¼Œäº‹åŠ¡å¯¹æ•°æ®åº“çš„æ‰€æœ‰æ›´æ–°å°†è¢«ä¿å­˜åˆ°æ•°æ®åº“ï¼Œä¸èƒ½å›æ»šã€‚")])])]),a._v(" "),t("h2",{attrs:{id:"äº‹åŠ¡çš„å¹¶å‘é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº‹åŠ¡çš„å¹¶å‘é—®é¢˜"}},[a._v("#")]),a._v(" äº‹åŠ¡çš„å¹¶å‘é—®é¢˜")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("1ã€è„è¯»ï¼š"),t("code",[a._v("æœªæäº¤è¯»(READ UNCOMMITED)")]),a._v("ï¼Œäº‹åŠ¡Aè¯»å–äº†äº‹åŠ¡Bæ›´æ–°çš„æ•°æ®ï¼Œç„¶åBå›æ»šæ“ä½œï¼Œé‚£ä¹ˆAè¯»å–åˆ°çš„æ•°æ®æ˜¯è„æ•°æ®ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("2ã€ä¸å¯é‡å¤è¯»ï¼š"),t("code",[a._v("å·²æäº¤è¯»(READ COMMITED)")]),a._v("ç¬¦åˆéš”ç¦»æ€§çš„åŸºæœ¬æ¦‚å¿µï¼Œäº‹åŠ¡ A å¤šæ¬¡è¯»å–åŒä¸€æ•°æ®ï¼Œäº‹åŠ¡ B åœ¨äº‹åŠ¡Aå¤šæ¬¡è¯»å–çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹æ•°æ®ä½œäº†æ›´æ–°å¹¶æäº¤ï¼Œå¯¼è‡´äº‹åŠ¡Aå¤šæ¬¡è¯»å–åŒä¸€æ•°æ®æ—¶ï¼Œç»“æœ ä¸ä¸€è‡´ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("3ã€å¯é‡å¤è¯»ï¼š"),t("code",[a._v("(REPEATABLE READ) InnoDBçš„é»˜è®¤éš”ç¦»ç­‰çº§")]),a._v("ã€‚äº‹åŠ¡è¿›è¡Œæ—¶ï¼Œå…¶å®ƒæ‰€æœ‰äº‹åŠ¡å¯¹å…¶ä¸å¯è§ï¼Œå³å¤šæ¬¡æ‰§è¡Œè¯»ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼")])]),a._v(" "),t("li",[t("p",[a._v("4ã€å¹»è¯»ï¼šç³»ç»Ÿç®¡ç†å‘˜Aå°†æ•°æ®åº“ä¸­æ‰€æœ‰å­¦ç”Ÿçš„æˆç»©ä»å…·ä½“åˆ†æ•°æ”¹ä¸ºABCDEç­‰çº§ï¼Œä½†æ˜¯ç³»ç»Ÿç®¡ç†å‘˜Bå°±åœ¨è¿™ä¸ªæ—¶å€™æ’å…¥äº†ä¸€æ¡å…·ä½“åˆ†æ•°çš„è®°å½•ï¼Œå½“ç³»ç»Ÿç®¡ç†å‘˜Aæ”¹ç»“æŸåå‘ç°è¿˜æœ‰ä¸€æ¡è®°å½•æ²¡æœ‰æ”¹è¿‡æ¥ï¼Œå°±å¥½åƒå‘ç”Ÿäº†å¹»è§‰ä¸€æ ·ï¼Œè¿™å°±å«å¹»è¯»ã€‚")])])]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("æ€»ç»“")]),a._v(" "),t("p",[t("code",[a._v("å°ç»“ï¼šä¸å¯é‡å¤è¯»çš„å’Œå¹»è¯»å¾ˆå®¹æ˜“æ··æ·†ï¼Œä¸å¯é‡å¤è¯»ä¾§é‡äºä¿®æ”¹ï¼Œå¹»è¯»ä¾§é‡äºæ–°å¢æˆ–åˆ é™¤ã€‚è§£å†³ä¸å¯é‡å¤è¯»çš„é—®é¢˜åªéœ€é”ä½æ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œè§£å†³å¹»è¯»éœ€è¦é”è¡¨ã€‚")])])]),a._v(" "),t("h2",{attrs:{id:"æ•°æ®åº“é”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®åº“é”"}},[a._v("#")]),a._v(" æ•°æ®åº“é”")]),a._v(" "),t("p",[t("code",[a._v("MySQL")]),a._v("ä¸­é”ä¸»è¦ä½œç”¨æ˜¯é’ˆå¯¹å…±äº«èµ„æºçš„å¹¶å‘è®¿é—®ä»¥åŠç”¨äºå®ç°äº‹åŠ¡çš„éš”ç¦»æ€§ã€‚")]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("MySQL")]),a._v("æ•°æ®ä¸­å¸¸è§çš„é”è§£è¯»")])]),a._v(" "),t("h3",{attrs:{id:"ä¹è§‚é”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¹è§‚é”"}},[a._v("#")]),a._v(" ä¹è§‚é”")]),a._v(" "),t("p",[a._v("ä¹è§‚å¹¶å‘æ§åˆ¶ï¼ˆåˆåâ€œä¹è§‚é”â€ï¼ŒOptimistic Concurrency Controlï¼Œç¼©å†™â€œOCCâ€ï¼‰æ˜¯ä¸€ç§å¹¶å‘æ§åˆ¶çš„æ–¹æ³•ã€‚å®ƒå‡è®¾å¤šç”¨æˆ·å¹¶å‘çš„äº‹åŠ¡åœ¨å¤„ç†æ—¶ä¸ä¼šå½¼æ­¤äº’ç›¸å½±å“ï¼Œå„äº‹åŠ¡èƒ½å¤Ÿåœ¨ä¸äº§ç”Ÿé”çš„æƒ…å†µä¸‹å¤„ç†å„è‡ªå½±å“çš„é‚£éƒ¨åˆ†æ•°æ®ã€‚åœ¨æäº¤æ•°æ®æ›´æ–°ä¹‹å‰ï¼Œæ¯ä¸ªäº‹åŠ¡ä¼šå…ˆæ£€æŸ¥åœ¨è¯¥äº‹åŠ¡è¯»å–æ•°æ®åï¼Œæœ‰æ²¡æœ‰å…¶ä»–äº‹åŠ¡åˆä¿®æ”¹äº†è¯¥æ•°æ®ã€‚å¦‚æœå…¶ä»–äº‹åŠ¡æœ‰æ›´æ–°çš„è¯ï¼Œæ­£åœ¨æäº¤çš„äº‹åŠ¡ä¼šè¿›è¡Œå›æ»šã€‚ä¹è§‚äº‹åŠ¡æ§åˆ¶æœ€æ—©æ˜¯ç”±å­”ç¥¥é‡ï¼ˆH.T.Kungï¼‰æ•™æˆæå‡ºã€‚")]),a._v(" "),t("p",[a._v("ä¹è§‚å¹¶å‘æ§åˆ¶å¤šæ•°ç”¨äºæ•°æ®äº‰ç”¨ä¸å¤§ã€å†²çªè¾ƒå°‘çš„ç¯å¢ƒä¸­ï¼Œè¿™ç§ç¯å¢ƒä¸­ï¼Œå¶å°”å›æ»šäº‹åŠ¡çš„æˆæœ¬ä¼šä½äºè¯»å–æ•°æ®æ—¶é”å®šæ•°æ®çš„æˆæœ¬ï¼Œå› æ­¤å¯ä»¥è·å¾—æ¯”å…¶ä»–å¹¶å‘æ§åˆ¶æ–¹æ³•æ›´é«˜çš„ååé‡ã€‚")]),a._v(" "),t("p",[t("strong",[a._v("ä¼˜ç¼ºç‚¹ï¼š")])]),a._v(" "),t("p",[t("code",[a._v("ä¹è§‚å¹¶å‘æ§åˆ¶ç›¸ä¿¡äº‹åŠ¡ä¹‹é—´çš„æ•°æ®ç«äº‰(data race)çš„æ¦‚ç‡æ˜¯æ¯”è¾ƒå°çš„ï¼Œå› æ­¤å°½å¯èƒ½ç›´æ¥åšä¸‹å»ï¼Œç›´åˆ°æäº¤çš„æ—¶å€™æ‰å»é”å®šï¼Œæ‰€ä»¥ä¸ä¼šäº§ç”Ÿä»»ä½•é”å’Œæ­»é”ã€‚ä½†å¦‚æœç›´æ¥ç®€å•è¿™ä¹ˆåšï¼Œè¿˜æ˜¯æœ‰å¯èƒ½ä¼šé‡åˆ°ä¸å¯é¢„æœŸçš„ç»“æœï¼Œä¾‹å¦‚ä¸¤ä¸ªäº‹åŠ¡éƒ½è¯»å–äº†æ•°æ®åº“çš„æŸä¸€è¡Œï¼Œç»è¿‡ä¿®æ”¹ä»¥åå†™å›æ•°æ®åº“ï¼Œè¿™æ—¶å°±é‡åˆ°äº†é—®é¢˜ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"æ‚²è§‚é”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ‚²è§‚é”"}},[a._v("#")]),a._v(" æ‚²è§‚é”")]),a._v(" "),t("p",[a._v("æ‚²è§‚å¹¶å‘æ§åˆ¶ï¼ˆåˆåâ€œæ‚²è§‚é”â€ï¼ŒPessimistic Concurrency Controlï¼Œç¼©å†™â€œPCCâ€ï¼‰æ˜¯ä¸€ç§å¹¶å‘æ§åˆ¶çš„æ–¹æ³•ã€‚å®ƒå¯ä»¥é˜»æ­¢ä¸€ä¸ªäº‹åŠ¡ä»¥å½±å“å…¶ä»–ç”¨æˆ·çš„æ–¹å¼æ¥ä¿®æ”¹æ•°æ®ã€‚å¦‚æœä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œçš„æ“ä½œè¯»æŸè¡Œæ•°æ®åº”ç”¨äº†é”ï¼Œé‚£åªæœ‰å½“è¿™ä¸ªäº‹åŠ¡æŠŠé”é‡Šæ”¾ï¼Œå…¶ä»–äº‹åŠ¡æ‰èƒ½å¤Ÿæ‰§è¡Œä¸è¯¥é”å†²çªçš„æ“ä½œã€‚")]),a._v(" "),t("p",[a._v("æ‚²è§‚å¹¶å‘æ§åˆ¶ä¸»è¦ç”¨äºæ•°æ®äº‰ç”¨æ¿€çƒˆçš„ç¯å¢ƒï¼Œä»¥åŠå‘ç”Ÿå¹¶å‘å†²çªæ—¶ä½¿ç”¨é”ä¿æŠ¤æ•°æ®çš„æˆæœ¬è¦ä½äºå›æ»šäº‹åŠ¡çš„æˆæœ¬çš„ç¯å¢ƒä¸­ã€‚")]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("æŒ‰ä½¿ç”¨æ€§è´¨åˆ’åˆ†")])])]),a._v(" "),t("h3",{attrs:{id:"å…±äº«é”ï¼ˆshare-lockï¼‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å…±äº«é”ï¼ˆshare-lockï¼‰"}},[a._v("#")]),a._v(" å…±äº«é”ï¼ˆShare Lockï¼‰")]),a._v(" "),t("ul",[t("li",[a._v("Sé”ï¼Œä¹Ÿå«è¯»é”ï¼Œç”¨äºæ‰€æœ‰çš„åªè¯»æ•°æ®æ“ä½œã€‚å…±äº«é”æ˜¯éç‹¬å çš„ï¼Œå…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡è¯»å–å…¶é”å®šçš„èµ„æºã€‚")])]),a._v(" "),t("ol",[t("li",[a._v("å¤šä¸ªäº‹åŠ¡å¯å°é”åŒä¸€ä¸ªå…±äº«é¡µï¼›")]),a._v(" "),t("li",[a._v("ä»»ä½•äº‹åŠ¡éƒ½ä¸èƒ½ä¿®æ”¹è¯¥é¡µï¼›")]),a._v(" "),t("li",[a._v("é€šå¸¸æ˜¯è¯¥é¡µè¢«è¯»å–å®Œæ¯•ï¼ŒSé”ç«‹å³è¢«é‡Šæ”¾ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"æ›´æ–°é”ï¼ˆupdate-lockï¼‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°é”ï¼ˆupdate-lockï¼‰"}},[a._v("#")]),a._v(" æ›´æ–°é”ï¼ˆUpdate Lockï¼‰")]),a._v(" "),t("ul",[t("li",[a._v("Ué”ï¼Œåœ¨ä¿®æ”¹æ“ä½œçš„åˆå§‹åŒ–é˜¶æ®µç”¨æ¥é”å®šå¯èƒ½è¦è¢«ä¿®æ”¹çš„èµ„æºï¼Œè¿™æ ·å¯ä»¥é¿å…ä½¿ç”¨å…±äº«é”é€ æˆçš„æ­»é”ç°è±¡ã€‚\nå› ä¸ºå½“ä½¿ç”¨å…±äº«é”æ—¶ï¼Œä¿®æ”¹æ•°æ®çš„æ“ä½œåˆ†ä¸ºä¸¤æ­¥ï¼š")]),a._v(" "),t("li",[a._v("é¦–å…ˆè·å¾—ä¸€ä¸ªå…±äº«é”ï¼Œè¯»å–æ•°æ®ï¼Œç„¶åå°†å…±äº«é”å‡çº§ä¸ºæ’ä»–é”ï¼Œå†æ‰§è¡Œä¿®æ”¹æ“ä½œã€‚")]),a._v(" "),t("li",[a._v("è¿™æ ·å¦‚æœæœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹åŠ¡åŒæ—¶å¯¹ä¸€ä¸ªäº‹åŠ¡ç”³è¯·äº†å…±äº«é”ï¼Œåœ¨ä¿®æ”¹æ•°æ®æ—¶ï¼Œè¿™äº›äº‹åŠ¡éƒ½è¦å°†å…±äº«é”å‡çº§ä¸ºæ’    ä»–é”ã€‚è¿™æ—¶ï¼Œè¿™äº›äº‹åŠ¡éƒ½ä¸ä¼šé‡Šæ”¾å…±äº«é”ï¼Œè€Œæ˜¯ä¸€ç›´ç­‰å¾…å¯¹æ–¹é‡Šæ”¾ï¼Œè¿™æ ·å°±é€ æˆäº†æ­»é”ã€‚")]),a._v(" "),t("li",[a._v("å¦‚æœä¸€ä¸ªæ•°æ®åœ¨ä¿®æ”¹å‰ç›´æ¥ç”³è¯·æ›´æ–°é”ï¼Œåœ¨æ•°æ®ä¿®æ”¹æ—¶å†å‡çº§ä¸ºæ’ä»–é”ï¼Œå°±å¯ä»¥é¿å…æ­»é”ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"æ’ä»–é”ï¼ˆexclusive-lockï¼‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ’ä»–é”ï¼ˆexclusive-lockï¼‰"}},[a._v("#")]),a._v(" æ’ä»–é”ï¼ˆExclusive Lockï¼‰")]),a._v(" "),t("ul",[t("li",[a._v("Xé”ï¼Œä¹Ÿå«å†™é”ï¼Œè¡¨ç¤ºå¯¹æ•°æ®è¿›è¡Œå†™æ“ä½œã€‚å¦‚æœä¸€ä¸ªäº‹åŠ¡å¯¹å¯¹è±¡åŠ äº†æ’ä»–é”ï¼Œå…¶ä»–äº‹åŠ¡å°±ä¸èƒ½å†ç»™å®ƒåŠ ä»»ä½•é”äº†ã€‚ï¼ˆæŸä¸ªé¡¾å®¢æŠŠè¯•è¡£é—´ä»é‡Œé¢åé”äº†ï¼Œå…¶ä»–é¡¾å®¢æƒ³è¦ä½¿ç”¨è¿™ä¸ªè¯•è¡£é—´ï¼Œå°±åªæœ‰ç­‰å¾…é”ä»é‡Œé¢æ‰“å¼€äº†ã€‚ï¼‰")])]),a._v(" "),t("blockquote",[t("p",[a._v("**æŒ‰ä½œç”¨èŒƒå›´åˆ’åˆ† **")])]),a._v(" "),t("h3",{attrs:{id:"è¡Œé”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è¡Œé”"}},[a._v("#")]),a._v(" è¡Œé”")]),a._v(" "),t("ul",[t("li",[a._v("é”çš„ä½œç”¨èŒƒå›´æ˜¯è¡Œçº§åˆ«ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"è¡¨é”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è¡¨é”"}},[a._v("#")]),a._v(" è¡¨é”")]),a._v(" "),t("ul",[t("li",[a._v("é”çš„ä½œç”¨èŒƒå›´æ˜¯æ•´å¼ è¡¨ã€‚æ•°æ®åº“èƒ½å¤Ÿç¡®å®šé‚£äº›è¡Œéœ€è¦é”çš„æƒ…å†µä¸‹ä½¿ç”¨è¡Œé”ï¼Œå¦‚æœä¸çŸ¥é“ä¼šå½±å“å“ªäº›è¡Œçš„æ—¶å€™å°±ä¼šä½¿ç”¨è¡¨é”ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"é¡µé”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é¡µé”"}},[a._v("#")]),a._v(" é¡µé”")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("å¯¹è¡¨ä¸­ä¸€ç»„è¿ç»­çš„è¡Œè¿›è¡ŒåŠ é”ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("æ€§èƒ½æ¯”è¾ƒ")])]),a._v(" "),t("li",[t("p",[a._v("è¡¨é”ï¼šå¼€é”€å°ï¼ŒåŠ é”å¿«ï¼›ä¸ä¼šå‡ºç°æ­»é”ï¼›é”å®šåŠ›åº¦å¤§ï¼Œå‘ç”Ÿé”å†²çªæ¦‚ç‡é«˜ï¼Œå¹¶å‘åº¦æœ€ä½")])]),a._v(" "),t("li",[t("p",[a._v("è¡Œé”ï¼šå¼€é”€å¤§ï¼ŒåŠ é”æ…¢ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦å°ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡ä½ï¼Œå¹¶å‘åº¦é«˜")])]),a._v(" "),t("li",[t("p",[a._v("é¡µé”ï¼šå¼€é”€å’ŒåŠ é”é€Ÿåº¦ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼Œå¹¶å‘åº¦ä¸€èˆ¬")])])]),a._v(" "),t("p",[t("strong",[a._v("ä¼˜ç¼ºç‚¹ï¼š")])]),a._v(" "),t("p",[t("code",[a._v("æ‚²è§‚å¹¶å‘æ§åˆ¶å®é™…ä¸Šæ˜¯â€œå…ˆå–é”å†è®¿é—®â€çš„ä¿å®ˆç­–ç•¥ï¼Œä¸ºæ•°æ®å¤„ç†çš„å®‰å…¨æä¾›äº†ä¿è¯ã€‚ä½†æ˜¯åœ¨æ•ˆç‡æ–¹é¢ï¼Œå¤„ç†åŠ é”çš„æœºåˆ¶ä¼šè®©æ•°æ®åº“äº§ç”Ÿé¢å¤–çš„å¼€é”€ï¼Œè¿˜æœ‰å¢åŠ äº§ç”Ÿæ­»é”çš„æœºä¼šï¼›å¦å¤–ï¼Œåœ¨åªè¯»å‹äº‹åŠ¡å¤„ç†ä¸­ç”±äºä¸ä¼šäº§ç”Ÿå†²çªï¼Œä¹Ÿæ²¡å¿…è¦ä½¿ç”¨é”ï¼Œè¿™æ ·åšåªèƒ½å¢åŠ ç³»ç»Ÿè´Ÿè½½ï¼›è¿˜æœ‰ä¼šé™ä½äº†å¹¶è¡Œæ€§ï¼Œä¸€ä¸ªäº‹åŠ¡å¦‚æœé”å®šäº†æŸè¡Œæ•°æ®ï¼Œå…¶ä»–äº‹åŠ¡å°±å¿…é¡»ç­‰å¾…è¯¥äº‹åŠ¡å¤„ç†å®Œæ‰å¯ä»¥å¤„ç†é‚£è¡Œæ•°æ®ã€‚")])]),a._v(" "),t("h2",{attrs:{id:"mysqlæ€§èƒ½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysqlæ€§èƒ½"}},[a._v("#")]),a._v(" MySQLæ€§èƒ½")]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("å½±å“"),t("code",[a._v("MySQL")]),a._v("æ€§èƒ½çš„å‡ ä¸ªå› ç´ ï¼š")])])]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("è¯´æ˜")]),a._v(" "),t("p",[a._v("QPSï¼šQueries Per Secondæ„æ€æ˜¯â€œæ¯ç§’æŸ¥è¯¢ç‡â€ï¼Œæ˜¯ä¸€å°æœåŠ¡å™¨æ¯ç§’èƒ½å¤Ÿç›¸åº”çš„æŸ¥è¯¢æ¬¡æ•°ã€‚")]),a._v(" "),t("p",[a._v("TPSï¼šæ˜¯TransactionsPerSecondçš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯äº‹åŠ¡æ•°/ç§’ã€‚å®ƒæ˜¯è½¯ä»¶æµ‹è¯•ç»“æœçš„æµ‹é‡å•ä½ã€‚")])]),a._v(" "),t("ul",[t("li",[a._v("æœåŠ¡å™¨ç¡¬ä»¶")]),a._v(" "),t("li",[a._v("æœåŠ¡å™¨ç³»ç»Ÿï¼ˆç³»ç»Ÿå‚æ•°ä¼˜åŒ–ï¼‰")]),a._v(" "),t("li",[a._v("ç£ç›˜IO")]),a._v(" "),t("li",[a._v("ç£ç›˜IOæ€§èƒ½çªç„¶ä¸‹é™ã€å¤§é‡æ¶ˆè€—ç£ç›˜æ€§èƒ½çš„è®¡åˆ’ä»»åŠ¡ã€‚è§£å†³ï¼šæ›´å¿«ç£ç›˜è®¾å¤‡ã€è°ƒæ•´è®¡åˆ’ä»»åŠ¡ã€åšå¥½ç£ç›˜ç»´æŠ¤ã€‚")]),a._v(" "),t("li",[a._v("ç½‘ç»œå»¶è¿Ÿ")]),a._v(" "),t("li",[a._v("å­˜å‚¨å¼•æ“ã€‚")]),a._v(" "),t("li",[a._v("MyISAMï¼š ä¸æ”¯æŒäº‹åŠ¡ï¼Œè¡¨çº§é”ã€‚")]),a._v(" "),t("li",[a._v("InnoDB: æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡Œçº§é”ï¼Œäº‹åŠ¡ACIDã€‚")]),a._v(" "),t("li",[a._v("æ•°æ®åº“å‚æ•°é…ç½®")]),a._v(" "),t("li",[a._v("æ•°æ®åº“ç»“æ„è®¾è®¡å’ŒSQLè¯­å¥ã€‚ï¼ˆé‡ç‚¹ä¼˜åŒ–ï¼‰")])]),a._v(" "),t("h2",{attrs:{id:"é»˜è®¤åº“è§£è¯»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é»˜è®¤åº“è§£è¯»"}},[a._v("#")]),a._v(" é»˜è®¤åº“è§£è¯»")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("information_schema")])]),a._v(" "),t("li",[t("p",[a._v("information_schemaæä¾›äº†è®¿é—®æ•°æ®åº“å…ƒæ•°æ®çš„æ–¹å¼ã€‚(å…ƒæ•°æ®æ˜¯å…³äºæ•°æ®çš„æ•°æ®ï¼Œå¦‚æ•°æ®åº“åæˆ–è¡¨åï¼Œåˆ—çš„æ•°æ®ç±»å‹ï¼Œæˆ–è®¿é—®æƒé™ç­‰ã€‚æœ‰æ—¶ç”¨äºè¡¨è¿°è¯¥ä¿¡æ¯çš„å…¶ä»–æœ¯è¯­åŒ…æ‹¬â€œæ•°æ®è¯å…¸â€å’Œâ€œç³»ç»Ÿç›®å½•â€ã€‚)")])]),a._v(" "),t("li",[t("p",[a._v("æ¢å¥æ¢è¯´ï¼Œinformation_schemaæ˜¯ä¸€ä¸ªä¿¡æ¯æ•°æ®åº“ï¼Œå®ƒä¿å­˜ç€å…³äºMySQLæœåŠ¡å™¨æ‰€ç»´æŠ¤çš„æ‰€æœ‰å…¶ä»–æ•°æ®åº“çš„ä¿¡æ¯ã€‚(å¦‚æ•°æ®åº“åï¼Œæ•°æ®åº“çš„è¡¨ï¼Œè¡¨æ çš„æ•°æ®ç±»å‹ä¸è®¿é—®æƒ é™ç­‰ã€‚) åœ¨INFORMATION_SCHEMAä¸­ï¼Œæœ‰å‡ å¼ åªè¯»è¡¨ã€‚å®ƒä»¬å®é™…ä¸Šæ˜¯è§†å›¾ï¼Œè€Œä¸æ˜¯åŸºæœ¬è¡¨ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("mysql")])]),a._v(" "),t("li",[t("p",[a._v("mysqlçš„æ ¸å¿ƒæ•°æ®åº“ï¼Œç±»ä¼¼äºsql serverä¸­çš„masterè¡¨ï¼Œä¸»è¦è´Ÿè´£å­˜å‚¨æ•°æ®åº“çš„ç”¨æˆ·ã€æƒé™è®¾ç½®ã€å…³é”®å­—ç­‰mysqlè‡ªå·±éœ€è¦ä½¿ç”¨çš„æ§åˆ¶å’Œç®¡ç†ä¿¡æ¯ã€‚(å¸¸ç”¨çš„ï¼Œåœ¨mysql.userè¡¨ä¸­ä¿®æ”¹rootç”¨æˆ·çš„å¯†ç )ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("performance_schema")])]),a._v(" "),t("li",[t("p",[a._v("ä¸»è¦ç”¨äºæ”¶é›†æ•°æ®åº“æœåŠ¡å™¨æ€§èƒ½å‚æ•°ã€‚å¹¶ä¸”åº“é‡Œè¡¨çš„å­˜å‚¨å¼•æ“å‡ä¸ºPERFORMANCE_SCHEMAï¼Œè€Œç”¨æˆ·æ˜¯ä¸èƒ½åˆ›å»ºå­˜å‚¨å¼•æ“ä¸ºPERFORMANCE_SCHEMAçš„è¡¨ã€‚MySQL5.7é»˜è®¤æ˜¯å¼€å¯çš„ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("sys")])]),a._v(" "),t("li",[t("p",[a._v("Sysåº“æ‰€æœ‰çš„æ•°æ®æºæ¥è‡ªï¼šperformance_schemaã€‚ç›®æ ‡æ˜¯æŠŠperformance_schemaçš„æŠŠå¤æ‚åº¦é™ä½ï¼Œè®©DBAèƒ½æ›´å¥½çš„é˜…è¯»è¿™ä¸ªåº“é‡Œçš„å†…å®¹ã€‚è®©DBAæ›´å¿«çš„äº†è§£DBçš„è¿è¡Œæƒ…å†µã€‚")])])]),a._v(" "),t("h2",{attrs:{id:"ä½“ç³»ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä½“ç³»ç»“æ„"}},[a._v("#")]),a._v(" ä½“ç³»ç»“æ„")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("å®¢æˆ·ç«¯")])]),a._v(" "),t("li",[t("p",[a._v("æœåŠ¡å±‚")])]),a._v(" "),t("li",[t("p",[a._v("è¿æ¥ç®¡ç†ã€æŸ¥è¯¢ç¼“å­˜ã€æŸ¥è¯¢è§£æã€æŸ¥è¯¢ä¼˜åŒ–å™¨")])]),a._v(" "),t("li",[t("p",[a._v("å­˜å‚¨å¼•æ“")])]),a._v(" "),t("li",[t("p",[a._v("æ‰§è¡Œæµç¨‹")])])]),a._v(" "),t("p",[t("img",{attrs:{src:"/images/pasted-51.png",alt:"upload successful"}})]),a._v(" "),t("h2",{attrs:{id:"å­˜å‚¨å¼•æ“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å­˜å‚¨å¼•æ“"}},[a._v("#")]),a._v(" å­˜å‚¨å¼•æ“")]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("MySQL")]),a._v("å¸¸è§çš„å­˜å‚¨å¼•æ“æœ‰"),t("code",[a._v("InnoDB")]),a._v("å’Œ"),t("code",[a._v("MyISAM")]),a._v("ä¸¤ç§ï¼Œå…¶ä»–"),t("code",[a._v("NDBCluster")]),a._v("ã€"),t("code",[a._v("Merge")]),a._v("ã€"),t("code",[a._v("Memory")]),a._v("ç­‰ç¨å¾®äº†è§£å³å¯ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"innodb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#innodb"}},[a._v("#")]),a._v(" InnoDB")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("åœ¨InnoDBä¸­ï¼Œå¦‚æœåªéœ€è¦æŸ¥æ‰¾ç´¢å¼•çš„åˆ—ï¼Œå°±å°½é‡ä¸è¦åŠ å…¥å…¶å®ƒçš„åˆ—ï¼Œè¿™æ ·ä¼šæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("InnoDB ä½¿ç”¨ B+Tree ä½œä¸ºç´¢å¼•ç»“æ„ï¼Œå¶èŠ‚ç‚¹ç›´æ¥å­˜å‚¨çš„æ˜¯å®Œæ•´çš„æ•°æ®è®°å½•ï¼Œç´¢å¼•çš„ key æ˜¯æ•°æ®è¡¨çš„ä¸»é”®,å› æ­¤   InnoDB è¡¨æ•°æ®æ–‡ä»¶æœ¬èº«å°±æ˜¯ä¸»ç´¢å¼•ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("æŸ¥çœ‹InnoDBæ•°æ®å­˜å‚¨")])])]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[a._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("show")]),a._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("like")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'innodb_file_per_table'")]),a._v("\n")])])]),t("ul",[t("li",[t("p",[a._v("å¦‚æœinnodb_file_per_table ä¸º ON å°†å»ºç«‹ç‹¬ç«‹çš„è¡¨ç©ºé—´ï¼Œæ–‡ä»¶ä¸ºtablename.ibdï¼›")])]),a._v(" "),t("li",[t("p",[a._v("å¦‚æœinnodb_file_per_table ä¸º OFF å°†æ•°æ®å­˜å‚¨åˆ°ç³»ç»Ÿçš„å…±äº«è¡¨ç©ºé—´ï¼Œæ–‡ä»¶ä¸ºibdataXï¼ˆXä¸ºä»1å¼€å§‹çš„æ•´æ•°ï¼‰ï¼›")])]),a._v(" "),t("li",[t("p",[t("code",[a._v("MySQL5.5é»˜è®¤ç³»ç»Ÿè¡¨ç©ºé—´ä¸MySQL5.6åŠä»¥åé»˜è®¤ç‹¬ç«‹è¡¨ç©ºé—´")])])]),a._v(" "),t("li",[t("p",[a._v("1.ç³»ç»Ÿè¡¨ç©ºé—´æ— æ³•ç®€å•çš„æ”¶ç¼©æ–‡ä»¶å¤§å°ï¼Œé€ æˆç©ºé—´æµªè´¹ï¼Œå¹¶ä¼šäº§ç”Ÿå¤§é‡çš„ç£ç›˜ç¢ç‰‡ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("2.ç‹¬ç«‹è¡¨ç©ºé—´å¯ä»¥é€šè¿‡optimeze table æ”¶ç¼©ç³»ç»Ÿæ–‡ä»¶ï¼Œä¸éœ€è¦é‡å¯æœåŠ¡å™¨ä¹Ÿä¸ä¼šå½±å“å¯¹è¡¨çš„æ­£å¸¸è®¿é—®ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("3.å¦‚æœå¯¹å¤šä¸ªè¡¨è¿›è¡Œåˆ·æ–°æ—¶ï¼Œå®é™…ä¸Šæ˜¯é¡ºåºè¿›è¡Œçš„ï¼Œä¼šäº§ç”ŸIOç“¶é¢ˆã€‚")])]),a._v(" "),t("li",[t("p",[a._v("4 ç‹¬ç«‹è¡¨ç©ºé—´å¯ä»¥åŒæ—¶å‘å¤šä¸ªæ–‡ä»¶åˆ·æ–°æ•°æ®ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("5 å¼ºçƒˆå»ºç«‹å¯¹Innodb ä½¿ç”¨ç‹¬ç«‹è¡¨ç©ºé—´ï¼Œä¼˜åŒ–ä»€ä¹ˆçš„æ›´æ–¹ä¾¿ï¼Œå¯æ§ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("ç‰¹æ€§ï¼šæ”¯æŒäº‹åŠ¡å’Œè¡Œçº§é”ï¼ˆå…·ä½“è¯´æ˜å‚è€ƒäº‹åŠ¡å’Œé”ï¼‰")]),a._v(" "),t("p",[t("strong",[a._v("InnoDBçš„å­˜å‚¨æ–‡ä»¶æ ¼å¼åˆ†ä¸ºï¼š")])]),a._v(" "),t("pre",[t("code",[a._v("  .frm:è¡¨ç»“æ„å®šä¹‰ä¿¡æ¯\n  .ibd:è¡¨æ•°æ®å’Œç´¢å¼•æ•°æ®\n")])])])]),a._v(" "),t("h3",{attrs:{id:"myisam"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#myisam"}},[a._v("#")]),a._v(" MyISAM")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("MyISAMå­˜å‚¨å¼•æ“é‡‡ç”¨çš„æ˜¯éèšç°‡ç´¢å¼•ï¼Œéèšç°‡ç´¢å¼•çš„ä¸»ç´¢å¼•å’Œè¾…åŠ©ç´¢å¼•å‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä¸»ç´¢å¼•ä¸å…è®¸é‡å¤ï¼Œä¸å…è®¸ç©ºå€¼ï¼Œä»–ä»¬çš„å¶å­ç»“ç‚¹çš„keyéƒ½å­˜å‚¨æŒ‡å‘é”®å€¼å¯¹åº”çš„æ•°æ®çš„ç‰©ç†åœ°å€ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("éèšç°‡ç´¢å¼•çš„æ•°æ®è¡¨å’Œç´¢å¼•è¡¨æ˜¯åˆ†å¼€å­˜å‚¨çš„ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("éèšç°‡ç´¢å¼•ä¸­çš„æ•°æ®æ˜¯æ ¹æ®æ•°æ®çš„æ’å…¥é¡ºåºä¿å­˜ã€‚å› æ­¤éèšç°‡ç´¢å¼•æ›´é€‚åˆå•ä¸ªæ•°æ®çš„æŸ¥è¯¢ã€‚æ’å…¥é¡ºåºä¸å—é”®å€¼å½±å“ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("åªæœ‰åœ¨MyISAMä¸­æ‰èƒ½ä½¿ç”¨FULLTEXTç´¢å¼•ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("MyISAM å¼•æ“é»˜è®¤ä½¿ç”¨ B+Tree ä½œä¸ºç´¢å¼•ç»“æ„,å¶èŠ‚ç‚¹çš„ data åŸŸå­˜æ”¾çš„æ˜¯æ•°æ®è®°å½•çš„åœ°å€ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("MyISAMå­˜å‚¨å¼•æ“çš„è¡¨åœ¨æ•°æ®åº“ä¸­ï¼Œæ¯ä¸€ä¸ªè¡¨éƒ½è¢«å­˜æ”¾ä¸ºä¸‰ä¸ªä»¥è¡¨åå‘½åçš„ç‰©ç†æ–‡ä»¶ã€‚é¦–å…ˆè‚¯å®šä¼šæœ‰ä»»ä½•å­˜å‚¨å¼•æ“éƒ½ä¸å¯ç¼ºå°‘çš„å­˜æ”¾è¡¨ç»“æ„å®šä¹‰ä¿¡æ¯çš„.frmæ–‡ä»¶ï¼Œå¦å¤–è¿˜æœ‰.MYDå’Œ.MYIæ–‡ä»¶ï¼Œåˆ†åˆ«å­˜æ”¾äº†è¡¨çš„æ•°æ®ï¼ˆ.MYDï¼‰å’Œç´¢å¼•æ•°æ®ï¼ˆ.MYIï¼‰ã€‚æ¯ä¸ªè¡¨éƒ½æœ‰ä¸”ä»…æœ‰è¿™æ ·ä¸‰ä¸ªæ–‡ä»¶åšä¸ºMyISAMå­˜å‚¨ç±»å‹çš„è¡¨çš„å­˜å‚¨ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç®¡è¿™ä¸ªè¡¨æœ‰å¤šå°‘ä¸ªç´¢å¼•ï¼Œéƒ½æ˜¯å­˜æ”¾åœ¨åŒä¸€ä¸ª.MYIæ–‡ä»¶ä¸­ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("æ”¯æŒR-Treeç´¢å¼•ã€R-Treeç´¢å¼•ã€å…¨æ–‡ç´¢å¼•ã€‚")]),a._v(" "),t("p",[t("strong",[a._v("MyISAMçš„å­˜å‚¨æ–‡ä»¶æ ¼å¼åˆ†ä¸ºï¼š")]),a._v("\n.frm:è¡¨ç»“æ„å®šä¹‰ä¿¡æ¯\n.MYD:è¡¨çš„æ•°æ®\n.MYI:ç´¢å¼•æ•°æ®")])]),a._v(" "),t("li",[t("p",[a._v("InnoDBå’ŒMyISAMçš„åŒºåˆ«")])]),a._v(" "),t("li",[t("p",[a._v("ä½¿ç”¨ä¸»ç´¢å¼•çš„æ—¶å€™ï¼Œæ›´é€‚åˆä½¿ç”¨èšç°‡ç´¢å¼•ï¼Œå› ä¸ºèšç°‡ç´¢å¼•åªéœ€è¦æŸ¥æ‰¾ä¸€æ¬¡ï¼Œè€Œéèšç°‡ç´¢å¼•åœ¨æŸ¥åˆ°æ•°æ®çš„åœ°å€åï¼Œè¿˜è¦è¿›è¡Œä¸€æ¬¡I/OæŸ¥æ‰¾æ•°æ®ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("å› ä¸ºèšç°‡è¾…åŠ©ç´¢å¼•å­˜å‚¨çš„æ˜¯ä¸»é”®çš„é”®å€¼ï¼Œå› æ­¤å¯ä»¥åœ¨æ•°æ®è¡Œç§»åŠ¨æˆ–è€…é¡µåˆ†è£‚çš„æ—¶å€™é™ä½å§”ä¼šæˆæœ¬ï¼Œå› ä¸ºè¿™æ—¶ä¸ç”¨ç»´æŠ¤è¾…åŠ©ç´¢å¼•ã€‚ä½†æ˜¯è¾…åŠ©ç´¢å¼•ä¼šå ç”¨æ›´å¤šçš„ç©ºé—´ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("èšç°‡ç´¢å¼•åœ¨æ’å…¥æ–°æ•°æ®çš„æ—¶å€™æ¯”éèšç°‡ç´¢å¼•æ…¢å¾ˆå¤šï¼Œå› ä¸ºæ’å…¥æ–°æ•°æ®æ—¶éœ€è¦å‡å‹ä¸»é”®æ˜¯å¦é‡å¤ï¼Œè¿™éœ€è¦éå†ä¸»ç´¢å¼•çš„æ‰€æœ‰å¶èŠ‚ç‚¹ï¼Œè€Œéèšç°‡ç´¢å¼•çš„å¶èŠ‚ç‚¹ä¿å­˜çš„æ˜¯æ•°æ®åœ°å€ï¼Œå ç”¨ç©ºé—´å°‘ï¼Œå› æ­¤åˆ†å¸ƒé›†ä¸­ï¼ŒæŸ¥è¯¢çš„æ—¶å€™I/Oæ›´å°‘ï¼Œä½†èšç°‡ç´¢å¼•çš„ä¸»ç´¢å¼•ä¸­å­˜å‚¨çš„æ˜¯æ•°æ®æœ¬èº«ï¼Œæ•°æ®å ç”¨ç©ºé—´å¤§ï¼Œåˆ†å¸ƒèŒƒå›´æ›´å¤§ï¼Œå¯èƒ½å ç”¨å¥½å¤šçš„æ‰‡åŒºï¼Œå› æ­¤éœ€è¦æ›´å¤šæ¬¡I/Oæ‰èƒ½éå†å®Œæ¯•ã€‚")])])]),a._v(" "),t("h3",{attrs:{id:"archive"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#archive"}},[a._v("#")]),a._v(" Archive")]),a._v(" "),t("ul",[t("li",[a._v("Archiveéå¸¸é€‚åˆå­˜å‚¨å¤§é‡çš„ç‹¬ç«‹çš„ï¼Œä½œä¸ºå†å²è®°å½•çš„æ•°æ®ã€‚å› ä¸ºå®ƒä»¬ä¸ç»å¸¸è¢«è¯»å–ã€‚Archive æ‹¥æœ‰é«˜æ•ˆçš„æ’å…¥é€Ÿåº¦ï¼Œä½†å…¶å¯¹æŸ¥è¯¢çš„æ”¯æŒç›¸å¯¹è¾ƒå·®ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"memory"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#memory"}},[a._v("#")]),a._v(" Memory")]),a._v(" "),t("ul",[t("li",[a._v("Memoryæ‰€æœ‰æ•°æ®ç½®äºå†…å­˜çš„å­˜å‚¨å¼•æ“ï¼Œæ‹¥æœ‰æé«˜çš„æ’å…¥ï¼Œæ›´æ–°å’ŒæŸ¥è¯¢æ•ˆç‡ã€‚ä½†æ˜¯ä¼šå ç”¨å’Œæ•°æ®é‡æˆæ­£æ¯”çš„å†…å­˜ç©ºé—´ã€‚å¹¶ä¸”å…¶å†…å®¹ä¼šåœ¨ MySQL é‡æ–°å¯åŠ¨æ—¶ä¸¢å¤±")])]),a._v(" "),t("h3",{attrs:{id:"merge"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#merge"}},[a._v("#")]),a._v(" Merge")]),a._v(" "),t("ul",[t("li",[a._v("Mergeæ˜¯å°†ä¸€å®šæ•°é‡çš„ MyISAM è¡¨è”åˆè€Œæˆä¸€ä¸ªæ•´ä½“ï¼Œåœ¨è¶…å¤§è§„æ¨¡æ•°æ®å­˜å‚¨æ—¶å¾ˆæœ‰ç”¨ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"csv"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#csv"}},[a._v("#")]),a._v(" CSV")]),a._v(" "),t("ul",[t("li",[a._v("é€»è¾‘ä¸Šç”±é€—å·åˆ†å‰²æ•°æ®çš„å­˜å‚¨å¼•æ“ã€‚å®ƒä¼šåœ¨æ•°æ®åº“å­ç›®å½•é‡Œä¸ºæ¯ä¸ªæ•°æ®è¡¨åˆ›å»ºä¸€ä¸ª .csv æ–‡ä»¶ã€‚è¿™æ˜¯ä¸€ç§æ™®é€šæ–‡æœ¬æ–‡ä»¶ï¼Œæ¯ä¸ªæ•°æ®è¡Œå ç”¨ä¸€ä¸ªæ–‡æœ¬è¡Œã€‚CSV å­˜å‚¨å¼•æ“ä¸æ”¯æŒç´¢å¼•ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"blackhole"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#blackhole"}},[a._v("#")]),a._v(" BlackHole")]),a._v(" "),t("ul",[t("li",[a._v("é»‘æ´å¼•æ“ï¼Œå†™å…¥çš„ä»»ä½•æ•°æ®éƒ½ä¼šæ¶ˆå¤±ï¼Œä¸€èˆ¬ç”¨äºè®°å½• binlog åšå¤åˆ¶çš„ä¸­ç»§ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"example"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[a._v("#")]),a._v(" EXAMPLE")]),a._v(" "),t("ul",[t("li",[a._v("EXAMPLE å­˜å‚¨å¼•æ“æ˜¯ä¸€ä¸ªä¸åšä»»ä½•äº‹æƒ…çš„å­˜æ ¹å¼•æ“ã€‚å®ƒçš„ç›®çš„æ˜¯ä½œä¸º MySQL æºä»£ç ä¸­çš„ä¸€ä¸ªä¾‹å­ï¼Œç”¨æ¥æ¼”ç¤ºå¦‚ä½•å¼€å§‹ç¼–å†™ä¸€ä¸ªæ–°å­˜å‚¨å¼•æ“ã€‚åŒæ ·ï¼Œå®ƒçš„ä¸»è¦å…´è¶£æ˜¯å¯¹å¼€å‘è€…ã€‚EXAMPLE å­˜å‚¨å¼•æ“ä¸æ”¯æŒç¼–ç´¢å¼•ã€‚")])]),a._v(" "),t("h2",{attrs:{id:"æ•°æ®é¢„çƒ­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®é¢„çƒ­"}},[a._v("#")]),a._v(" æ•°æ®é¢„çƒ­")]),a._v(" "),t("p",[a._v("é»˜è®¤æƒ…å†µï¼Œä»…ä»…æœ‰æŸæ¡æ•°æ®è¢«è¯»å–ä¸€æ¬¡ï¼Œæ‰ä¼šç¼“å­˜åœ¨"),t("code",[a._v("innodb_buffer_pool")]),a._v("ã€‚æ‰€ä»¥ï¼Œæ•°æ®åº“åˆšåˆšå¯åŠ¨ï¼Œé¡»è¦è¿›è¡Œæ•°æ®é¢„çƒ­ï¼Œå°†ç£ç›˜ä¸Šçš„å…¨éƒ¨æ•°æ®ç¼“å­˜åˆ°å†…å­˜ä¸­ã€‚æ•°æ®é¢„çƒ­èƒ½å¤Ÿæé«˜è¯»å–é€Ÿåº¦ã€‚å¯¹äº"),t("code",[a._v("InnoDB")]),a._v("æ•°æ®åº“ï¼Œèƒ½å¤Ÿç”¨ä¸‹é¢æ–¹æ³•ï¼Œè¿›è¡Œæ•°æ®é¢„çƒ­ã€‚")]),a._v(" "),t("ul",[t("li",[a._v("1.å°†ä¸‹é¢è„šæœ¬ä¿å­˜ä¸º MakeSelectQueriesToLoad.sql")])]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DISTINCT")]),a._v("\n    CONCAT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'SELECT '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("ndxcollist"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("' FROM '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'.'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("tb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("' ORDER BY '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("ndxcollist"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("';'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" SelectQueryToLoadCache\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("engine")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("table_schema db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("table_name tb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            index_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("GROUP_CONCAT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("column_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ORDER")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("BY")]),a._v(" seq_in_index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ndxcollist\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v("\n                B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("engine")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("table_schema"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("table_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n                A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("index_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("column_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("seq_in_index\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v("\n               information_schema"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("statistics")]),a._v(" A "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("INNER")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("JOIN")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n                    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("engine")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("table_schema"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("table_name\n                    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" information_schema"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("tables")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v("\n                    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("engine")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'InnoDB'")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" B "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("USING")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("table_schema"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("table_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("table_schema "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("NOT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("IN")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'information_schema'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'mysql'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ORDER")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("BY")]),a._v(" table_schema"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("table_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("index_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("seq_in_index\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" A\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("GROUP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("BY")]),a._v(" table_schema"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("table_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("index_name\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" AA\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ORDER")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("BY")]),a._v(" db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("tb\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("ul",[t("li",[a._v("2.è¿è¡Œ")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mysql -uroot -AN "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v(" /root/MakeSelectQueriesToLoad.sql "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /root/SelectQueriesToLoad.sql\n")])])]),t("ul",[t("li",[a._v("3.åŠ å…¥å¯åŠ¨è„šæœ¬åˆ° my.cnf\n``bash\nvim /etc/my.cnf")])]),a._v(" "),t("p",[a._v("[mysqld]")]),a._v(" "),t("p",[a._v("init-file=/var/lib/mysql/upcache.sql")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("\n### MySQLæ‰§è¡Œçº¿ç¨‹\n\n**1ã€æŸ¥çœ‹`MySQL`å½“å‰è¿æ¥æ•°**\n\nâ€‹```bash\nshow full processlist;\n")])])]),t("p",[t("img",{attrs:{src:"/images/pasted-44.png",alt:"upload successful"}})]),a._v(" "),t("p",[a._v("statistics çŠ¶æ€çš„çº¿ç¨‹ï¼Œè¡¨ç¤ºæ­£åœ¨è®¡ç®—ç»Ÿè®¡æ•°æ®ï¼Œä»¥åˆ¶å®šä¸€ä¸ªæŸ¥è¯¢æ‰§è¡Œè®¡åˆ’ã€‚ å¦‚æœä¸€ä¸ªçº¿ç¨‹å¾ˆé•¿ä¸€æ®µæ—¶é—´å¤„äºè¿™ç§çŠ¶æ€ï¼Œå¯èƒ½æ˜¯ç£ç›˜ç»‘å®šçš„ï¼Œå³ç£ç›˜IOæ€§èƒ½å¾ˆå·®ï¼Œè¯´åˆ°åº•å°±æ˜¯æ•°æ®åº“æœåŠ¡å™¨IOé‡åˆ°é—®é¢˜äº†ï¼Œå¯ä»¥é€šè¿‡å¢åŠ  "),t("code",[a._v("buffer_pool")]),a._v(" æ¥ç¼“å­˜æ›´å¤šçš„æ•°æ®ï¼Œæˆ–è€…æé«˜æœåŠ¡å™¨IOèƒ½åŠ›ï¼Œå¯èƒ½ç£ç›˜åœ¨æ‰§è¡Œå…¶ä»–å·¥ä½œã€‚")]),a._v(" "),t("p",[a._v("æœåŠ¡å™¨IOçŠ¶æ€ä¼šä¸€ç›´å ç”¨cpuï¼Œå¯¼è‡´æ€§èƒ½ä¸¥é‡ä¸‹é™ã€‚")]),a._v(" "),t("p",[t("img",{attrs:{src:"/images/pasted-50.png",alt:"upload successful"}})]),a._v(" "),t("p",[t("strong",[a._v("2ã€æ˜¾ç¤º"),t("code",[a._v("MySQL")]),a._v("çŠ¶æ€")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("show status"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("ul",[t("li",[a._v("Aborted_clients ç”±äºå®¢æˆ·æ²¡æœ‰æ­£ç¡®å…³é—­è¿æ¥å·²ç»æ­»æ‰ï¼Œå·²ç»æ”¾å¼ƒçš„è¿æ¥æ•°é‡ã€‚")]),a._v(" "),t("li",[a._v("Aborted_connects å°è¯•å·²ç»å¤±è´¥çš„MySQLæœåŠ¡å™¨çš„è¿æ¥çš„æ¬¡æ•°ã€‚")]),a._v(" "),t("li",[a._v("Connections è¯•å›¾è¿æ¥MySQLæœåŠ¡å™¨çš„æ¬¡æ•°ã€‚")]),a._v(" "),t("li",[a._v("Created_tmp_tables å½“æ‰§è¡Œè¯­å¥æ—¶ï¼Œå·²ç»è¢«åˆ›é€ äº†çš„éšå«ä¸´æ—¶è¡¨çš„æ•°é‡ã€‚")]),a._v(" "),t("li",[a._v("Delayed_insert_threads æ­£åœ¨ä½¿ç”¨çš„å»¶è¿Ÿæ’å…¥å¤„ç†å™¨çº¿ç¨‹çš„æ•°é‡ã€‚")]),a._v(" "),t("li",[a._v("Open_tables æ‰“å¼€è¡¨çš„æ•°é‡ã€‚")]),a._v(" "),t("li",[a._v("Open_files æ‰“å¼€æ–‡ä»¶çš„æ•°é‡ã€‚")]),a._v(" "),t("li",[a._v("Open_streams æ‰“å¼€æµçš„æ•°é‡(ä¸»è¦ç”¨äºæ—¥å¿—è®°è½½ï¼‰")]),a._v(" "),t("li",[a._v("Opened_tables å·²ç»æ‰“å¼€çš„è¡¨çš„æ•°é‡ã€‚")]),a._v(" "),t("li",[a._v("Questions å‘å¾€æœåŠ¡å™¨çš„æŸ¥è¯¢çš„æ•°é‡ã€‚")]),a._v(" "),t("li",[a._v("Slow_queries è¦èŠ±è¶…è¿‡long_query_timeæ—¶é—´çš„æŸ¥è¯¢æ•°é‡ã€‚")]),a._v(" "),t("li",[a._v("Threads_connected å½“å‰æ‰“å¼€çš„è¿æ¥çš„æ•°é‡ã€‚")]),a._v(" "),t("li",[a._v("Threads_running ä¸åœ¨ç¡çœ çš„çº¿ç¨‹æ•°é‡ã€‚")]),a._v(" "),t("li",[a._v("Uptime æœåŠ¡å™¨å·¥ä½œäº†å¤šå°‘ç§’ã€‚")])]),a._v(" "),t("p",[t("strong",[a._v("3ã€ç»ˆæ­¢æ­£åœ¨æ‰§è¡Œçš„"),t("code",[a._v("MySQL")]),a._v("çº¿ç¨‹")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("kill")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("p",[a._v("æ€æ­»è€—æ—¶æˆ–è€…é•¿æ—¶é—´å¤„äº"),t("code",[a._v("Sending to Client")]),a._v("çŠ¶æ€çš„æ…¢sqlã€‚")]),a._v(" "),t("p",[t("strong",[a._v("å‡å°‘ç£ç›˜ç»‘å®šï¼š")])]),a._v(" "),t("ul",[t("li",[t("ol",[t("li",[a._v("æ‰©å¤§"),t("code",[a._v("innodb_buffer_pool_size")]),a._v("çš„ç¼“å†²æ± å¤§å°ã€‚å¦‚æœä½ ç”¨Innodbç„¶åï¼Œå½“è¡¨æ•°æ®ç¼“å­˜åœ¨InnoDBç¼“å†²æ± ä¸­æ—¶ï¼Œå¯ä»¥é€šè¿‡æŸ¥è¯¢ä¸€æ¬¡åˆä¸€æ¬¡åœ°å¤„ç†è¡¨æ•°æ®ï¼Œè€Œä¸éœ€è¦ä»»ä½•ç£ç›˜I/Oã€‚è¿™ä¸ªå†…å­˜åŒºåŸŸéå¸¸é‡è¦ï¼Œä»¥è‡³äºç¹å¿™çš„æ•°æ®åº“é€šå¸¸æŒ‡å®šçš„å¤§å°çº¦ä¸ºç‰©ç†å†…å­˜é‡çš„80%ã€‚")])])]),a._v(" "),t("li",[t("ol",{attrs:{start:"2"}},[t("li",[a._v("åœ¨GNU/Linuxå’ŒUnixçš„æŸäº›ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨Unixfsync()è°ƒç”¨(InnoDBé»˜è®¤ä½¿ç”¨)å°†æ–‡ä»¶åˆ·æ–°åˆ°ç£ç›˜ï¼Œç±»ä¼¼çš„æ–¹æ³•éå¸¸æ…¢ã€‚å¦‚æœæ•°æ®åº“å†™å…¥æ€§èƒ½æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œåˆ™ä½¿ç”¨INNODB_FLUSH_Methodå‚æ•°è®¾ç½®ä¸ºO_DSYNCè¿›è¡ŒåŸºå‡†æµ‹è¯•ã€‚")])])]),a._v(" "),t("li",[t("ol",{attrs:{start:"3"}},[t("li",[a._v("æ‰©å¤§"),t("code",[a._v("innodb_buffer_pool_size")]),a._v("çš„æ•°æ®åº“æ—¥å¿—ç¼“å†²åŒºå¤§å°-è®¾ç½®åˆ†é…ç»™å­˜å‚¨InnoDBé¢„å†™æ—¥å¿—æ¡ç›®çš„ç¼“å†²åŒºçš„å†…å­˜é‡ã€‚å¯¹äºå¤§å‹äº‹åŠ¡ï¼Œå¯ä»¥å°†æ—¥å¿—åŠ è½½åˆ°æ—¥å¿—ç¼“å†²åŒºä¸­ï¼Œè€Œä¸æ˜¯å°†æ—¥å¿—å†™å…¥ç£ç›˜ä¸Šçš„æ—¥å¿—æ–‡ä»¶ï¼Œç›´åˆ°æ—¥å¿—ç¼“å†²åŒºåœ¨æ¯æ¬¡äº‹åŠ¡æäº¤æ—¶è¢«åˆ·æ–°ä¸ºæ­¢ã€‚å¦‚æœæ‚¨åœ¨è¿è¡Œæ—¶åœ¨æ˜¾ç¤ºnodbçŠ¶æ€è¾“å‡ºä¸­çœ‹åˆ°å¤§å‹æ—¥å¿—I/Oï¼Œåˆ™å¯èƒ½éœ€è¦ä¸ºinnodb_log_buffer_sizeå‚æ•°è®¾ç½®æ›´å¤§çš„å€¼ï¼Œä»¥ä¿å­˜ç£ç›˜I/Oã€‚")])])]),a._v(" "),t("li",[t("ol",{attrs:{start:"4"}},[t("li",[a._v("å¢åŠ ç”¨äºç¼“å­˜è¡¨å’ŒæŸ¥è¯¢çš„å†…å­˜-æ£€æŸ¥è¡¨å’ŒæŸ¥è¯¢çš„ç¼“å­˜å‘½ä¸­ç‡ï¼Œæ£€æŸ¥å¹¶å¢åŠ è¿™äº›MySQLå˜é‡ï¼šquery_cache_size, query_cache_limit, query_cache_min_res_unit, tmp_table_size, join_buffer_size , sort_buffer_sizeç­‰ç­‰ã€‚")])])]),a._v(" "),t("li",[t("ol",{attrs:{start:"5"}},[t("li",[a._v("ç¡®ä¿å¯¹æœåŠ¡å™¨ä¸Šçš„æ‰€æœ‰è¡¨éƒ½åº”ç”¨äº†é€‚å½“çš„ç´¢å¼•ï¼Œå¹¶ä½¿ç”¨æ­£ç¡®çš„æ•°æ®ç±»å‹ã€‚")])]),a._v(" "),t("p",[t("code",[a._v("å»ºè®®ï¼šæŸ¥çœ‹å½“å‰ioæ€§èƒ½çŠ¶æ€ï¼Œä¾‹å¦‚iostat")])])])]),a._v(" "),t("p",[t("img",{attrs:{src:"/images/pasted-45.png",alt:"upload successful"}})]),a._v(" "),t("h2",{attrs:{id:"sqlè°ƒä¼˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sqlè°ƒä¼˜"}},[a._v("#")]),a._v(" SQLè°ƒä¼˜")]),a._v(" "),t("h3",{attrs:{id:"sqlæ‰§è¡Œé¡ºåº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sqlæ‰§è¡Œé¡ºåº"}},[a._v("#")]),a._v(" SQLæ‰§è¡Œé¡ºåº")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("left_table"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ON")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("join_condition"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("join_type"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("JOIN")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("right_table"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("where_condition"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("GROUP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("BY")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("group_by_list"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("HAVING")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("having_condition"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DISTINCT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("select_list"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ORDER")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("BY")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("order_by_condition"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("LIMIT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("limit_number"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("h3",{attrs:{id:"sqlä¼˜åŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sqlä¼˜åŒ–"}},[a._v("#")]),a._v(" SQLä¼˜åŒ–")]),a._v(" "),t("ul",[t("li",[a._v("ç¦ç”¨select *")]),a._v(" "),t("li",[a._v("ä½¿ç”¨select count(*) ç»Ÿè®¡è¡Œæ•°")]),a._v(" "),t("li",[a._v("å°½é‡å°‘è¿ç®—")]),a._v(" "),t("li",[a._v("å°½é‡é¿å…å…¨è¡¨æ‰«æï¼Œå¦‚æœå¯ä»¥ï¼Œåœ¨è¿‡æ»¤åˆ—å»ºç«‹ç´¢å¼•")]),a._v(" "),t("li",[a._v("å°½é‡é¿å…åœ¨whereå­å¥å¯¹å­—æ®µè¿›è¡Œnullåˆ¤æ–­")]),a._v(" "),t("li",[a._v("å°½é‡é¿å…åœ¨whereå­å¥ä½¿ç”¨!= æˆ–è€…<>")]),a._v(" "),t("li",[a._v("å°½é‡é¿å…åœ¨whereå­å¥ä½¿ç”¨orè¿æ¥")]),a._v(" "),t("li",[a._v("å°½é‡é¿å…å¯¹å­—æ®µè¿›è¡Œè¡¨è¾¾å¼è®¡ç®—")]),a._v(" "),t("li",[a._v("å°½é‡é¿å…å¯¹å­—æ®µè¿›è¡Œå‡½æ•°æ“ä½œ")]),a._v(" "),t("li",[a._v("å°½é‡é¿å…ä½¿ç”¨ä¸æ˜¯å¤åˆç´¢å¼•çš„å‰ç¼€åˆ—è¿›è¡Œè¿‡æ»¤è¿æ¥")]),a._v(" "),t("li",[a._v("å°½é‡å°‘æ’åºï¼Œå¦‚æœå¯ä»¥ï¼Œå»ºç«‹ç´¢å¼•")]),a._v(" "),t("li",[a._v("å°½é‡å°‘join")]),a._v(" "),t("li",[a._v("å°½é‡ç”¨joinä»£æ›¿å­æŸ¥è¯¢")]),a._v(" "),t("li",[a._v("å°½é‡é¿å…åœ¨whereå­å¥ä¸­ä½¿ç”¨in,not inæˆ–è€…havingï¼Œä½¿ç”¨exists,not existsä»£æ›¿")]),a._v(" "),t("li",[a._v("å°½é‡é¿å…ä¸¤ç«¯æ¨¡ç³ŠåŒ¹é… like %*%")]),a._v(" "),t("li",[a._v("å°½é‡ç”¨union allä»£æ›¿union")]),a._v(" "),t("li",[a._v("å°½é‡æ—©è¿‡æ»¤")]),a._v(" "),t("li",[a._v("é¿å…ç±»å‹è½¬æ¢")]),a._v(" "),t("li",[a._v("å°½é‡æ‰¹é‡insert")]),a._v(" "),t("li",[a._v("ä¼˜å…ˆä¼˜åŒ–é«˜å¹¶å‘sqlï¼Œè€Œä¸æ˜¯é¢‘ç‡ä½çš„å¤§sql")]),a._v(" "),t("li",[a._v("å°½å¯èƒ½å¯¹æ¯ä¸€æ¡sqlè¿›è¡Œexplain")]),a._v(" "),t("li",[a._v("å°½å¯èƒ½ä»å…¨å±€å‡ºå‘")])]),a._v(" "),t("h3",{attrs:{id:"order-byä¼˜åŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#order-byä¼˜åŒ–"}},[a._v("#")]),a._v(" Order Byä¼˜åŒ–")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("filesortä¼˜åŒ–ç®—æ³•.")])]),a._v(" "),t("li",[t("p",[a._v("åœ¨mysql version()<4.1ä¹‹å‰ï¼Œä¼˜åŒ–å™¨é‡‡ç”¨çš„æ˜¯filesortç¬¬ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œå…ˆæå–é”®å€¼å’ŒæŒ‡é’ˆï¼Œæ’åºåå†å»æå–æ•°æ®ï¼Œå‰åè¦æœç´¢æ•°æ®ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡è‹¥èƒ½ä½¿ç”¨ç´¢å¼•åˆ™ä½¿ç”¨ï¼Œç¬¬äºŒæ¬¡æ˜¯éšæœºè¯»(å½“ç„¶ä¸åŒå¼•æ“ä¹Ÿä¸åŒ)ã€‚mysql version()>=4.1,æ›´æ–°äº†ä¸€ä¸ªæ–°ç®—æ³•ï¼Œå°±æ˜¯åœ¨ç¬¬ä¸€æ¬¡è¯»çš„æ—¶å€™ä¹ŸæŠŠselcetçš„åˆ—ä¹Ÿè¯»å‡ºæ¥ï¼Œç„¶ååœ¨sort_buffer_sizeä¸­æ’åº(ä¸å¤Ÿå¤§åˆ™å»ºä¸´æ—¶è¡¨ä¿å­˜æ’åºé¡ºåº)ï¼Œè¿™ç®—æ³•åªéœ€è¦ä¸€æ¬¡è¯»å–æ•°æ®ã€‚æ‰€ä»¥æœ‰è¿™ä¸ªå¹¿ä¸ºäººä¼ çš„ä¸€ä¸ªä¼˜åŒ–æ–¹æ³•ï¼Œé‚£å°±æ˜¯å¢å¤§sort_buffer_sizeã€‚Filesortç¬¬äºŒç§ç®—æ³•è¦ç”¨åˆ°æ›´çš„ç©ºé—´ï¼Œsort_buffer_sizeä¸å¤Ÿå¤§åè€Œä¼šå½±å“é€Ÿåº¦ï¼Œæ‰€ä»¥mysqlå¼€å‘å›¢é˜Ÿå®šäº†ä¸ªå˜é‡max_length_for_sort_dataï¼Œå½“ç®—æ³•ä¸­è¯»å‡ºæ¥çš„éœ€è¦åˆ—çš„æ•°æ®çš„å¤§å°è¶…è¿‡è¯¥å˜é‡çš„å€¼æ‰ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸€èˆ¬æ€§èƒ½åˆ†æçš„æ—¶å€™ä¼šå°è¯•æŠŠmax_length_for_sort_dataæ”¹å°ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("å•ç‹¬order by ç”¨ä¸äº†ç´¢å¼•ï¼Œç´¢å¼•è€ƒè™‘åŠ where æˆ–åŠ limitã€‚")])]),a._v(" "),t("li",[t("p",[a._v("å½“order by å’Œ group byæ— æ³•ä½¿ç”¨ç´¢å¼•æ—¶ï¼Œå¢å¤§max_length_for_sort_dataå‚æ•°è®¾ç½®å’Œå¢å¤§sort_buffer_sizeå‚æ•°çš„è®¾ç½®ã€‚")])])]),a._v(" "),t("h2",{attrs:{id:"ç´¢å¼•å‘½ä¸­-å¤±æ•ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç´¢å¼•å‘½ä¸­-å¤±æ•ˆ"}},[a._v("#")]),a._v(" ç´¢å¼•å‘½ä¸­&å¤±æ•ˆ")]),a._v(" "),t("p",[a._v("ç´¢å¼•æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ï¼ˆInnoDB æ•°æ®è¡¨ä¸Šçš„ç´¢å¼•æ˜¯è¡¨ç©ºé—´çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼‰ï¼Œå®ƒä»¬åŒ…å«ç€å¯¹æ•°æ®è¡¨é‡Œæ‰€æœ‰è®°å½•çš„å¼•ç”¨æŒ‡é’ˆã€‚ç´¢å¼•ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œç´¢å¼•å¯ä»¥åŠ å¿«æ•°æ®æ£€ç´¢æ“ä½œï¼Œä½†ä¼šä½¿æ•°æ®ä¿®æ”¹æ“ä½œå˜æ…¢ã€‚æ¯ä¿®æ”¹æ•°æ®è®°å½•ï¼Œç´¢å¼•å°±å¿…é¡»åˆ·æ–°ä¸€æ¬¡ã€‚ä¸ºäº†åœ¨æŸç§ç¨‹åº¦ä¸Šå¼¥è¡¥è¿™ä¸€ç¼ºé™·ï¼Œè®¸å¤š SQL å‘½ä»¤éƒ½æœ‰ä¸€ä¸ª DELAY_KEY_WRITE é¡¹ã€‚è¿™ä¸ªé€‰é¡¹çš„ä½œç”¨æ˜¯æš‚æ—¶åˆ¶æ­¢ MySQL åœ¨è¯¥å‘½ä»¤æ¯æ’å…¥ä¸€æ¡æ–°è®°å½•å’Œæ¯ä¿®æ”¹ä¸€æ¡ç°æœ‰ä¹‹åç«‹åˆ»å¯¹ç´¢å¼•è¿›è¡Œåˆ·æ–°ï¼Œå¯¹ç´¢å¼•çš„åˆ·æ–°å°†ç­‰åˆ°å…¨éƒ¨è®°å½•æ’å…¥/ä¿®æ”¹å®Œæ¯•ä¹‹åå†è¿›è¡Œã€‚åœ¨éœ€è¦æŠŠè®¸å¤šæ–°è®°å½•æ’å…¥æŸä¸ªæ•°æ®è¡¨çš„åœºåˆï¼ŒDELAY_KEY_WRITE é€‰é¡¹çš„ä½œç”¨å°†éå¸¸æ˜æ˜¾ã€‚å¦å¤–ï¼Œç´¢å¼•è¿˜ä¼šåœ¨ç¡¬ç›˜ä¸Šå ç”¨ç›¸å½“å¤§çš„ç©ºé—´ã€‚å› æ­¤åº”è¯¥åªä¸ºæœ€ç»å¸¸æŸ¥è¯¢å’Œæœ€ç»å¸¸æ’åºçš„æ•°æ®åˆ—å»ºç«‹ç´¢å¼•ã€‚æ³¨æ„ï¼Œå¦‚æœæŸä¸ªæ•°æ®åˆ—åŒ…å«è®¸å¤šé‡å¤çš„å†…å®¹ï¼Œä¸ºå®ƒå»ºç«‹ç´¢å¼•å°±æ²¡æœ‰å¤ªå¤§çš„å®é™…æ•ˆæœã€‚")]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("æ•°æ®åº“è¡¨çš„ç´¢å¼•ä»æ•°æ®å­˜å‚¨æ–¹å¼ä¸Šå¯ä»¥åˆ†ä¸ºèšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•ï¼ˆåˆå«äºŒçº§ç´¢å¼•ï¼‰ä¸¤ç§ã€‚")])])]),a._v(" "),t("h3",{attrs:{id:"èšç°‡ç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#èšç°‡ç´¢å¼•"}},[a._v("#")]),a._v(" èšç°‡ç´¢å¼•")]),a._v(" "),t("p",[a._v("Innodbçš„èšç°‡ç´¢å¼•åœ¨åŒä¸€ä¸ªB-Treeä¸­ä¿å­˜äº†ç´¢å¼•åˆ—å’Œå…·ä½“çš„æ•°æ®ï¼Œåœ¨èšç°‡ç´¢å¼•ä¸­ï¼Œå®é™…çš„æ•°æ®ä¿å­˜åœ¨å¶å­é¡µä¸­ï¼Œä¸­é—´çš„èŠ‚ç‚¹é¡µä¿å­˜æŒ‡å‘ä¸‹ä¸€å±‚é¡µé¢çš„æŒ‡é’ˆã€‚â€œèšç°‡â€çš„æ„æ€æ˜¯æ•°æ®è¡Œè¢«æŒ‰ç…§ä¸€å®šé¡ºåºä¸€ä¸ªä¸ªç´§å¯†åœ°æ’åˆ—åœ¨ä¸€èµ·å­˜å‚¨ã€‚ä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªèšç°‡ç´¢å¼•ï¼Œå› ä¸ºåœ¨ä¸€ä¸ªè¡¨ä¸­æ•°æ®çš„å­˜æ”¾æ–¹å¼åªæœ‰ä¸€ç§ã€‚")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("èšç°‡ç´¢å¼•çš„ä¼˜ç‚¹")])]),a._v(" "),t("li",[t("p",[a._v("èšç°‡ç´¢å¼•å°†ç´¢å¼•å’Œæ•°æ®è¡Œä¿å­˜åœ¨åŒä¸€ä¸ªB-Treeä¸­ï¼ŒæŸ¥è¯¢é€šè¿‡èšç°‡ç´¢å¼•å¯ä»¥ç›´æ¥è·å–æ•°æ®ï¼Œç›¸æ¯”éèšç°‡ç´¢å¼•éœ€è¦   ç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼ˆéè¦†ç›–ç´¢å¼•çš„æƒ…å†µä¸‹ï¼‰æ•ˆç‡è¦é«˜ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("èšç°‡ç´¢å¼•å¯¹äºèŒƒå›´æŸ¥è¯¢çš„æ•ˆç‡å¾ˆé«˜ï¼Œå› ä¸ºå…¶æ•°æ®æ˜¯æŒ‰ç…§å¤§å°æ’åˆ—çš„ï¼Œ")])]),a._v(" "),t("li",[t("p",[a._v("èšç°‡ç´¢å¼•çš„ç¼ºç‚¹")])]),a._v(" "),t("li",[t("p",[a._v("èšç°‡ç´¢å¼•çš„æ›´æ–°ä»£ä»·æ¯”è¾ƒé«˜ï¼Œå¦‚æœæ›´æ–°äº†è¡Œçš„èšç°‡ç´¢å¼•åˆ—ï¼Œå°±éœ€è¦å°†æ•°æ®ç§»åŠ¨åˆ°ç›¸åº”çš„ä½ç½®ã€‚è¿™å¯èƒ½å› ä¸ºè¦æ’   å…¥çš„é¡µå·²æ»¡è€Œå¯¼è‡´â€œé¡µåˆ†è£‚â€ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("æ’å…¥é€Ÿåº¦ä¸¥é‡ä¾èµ–äºæ’å…¥é¡ºåºï¼ŒæŒ‰ç…§ä¸»é”®è¿›è¡Œæ’å…¥çš„é€Ÿåº¦æ˜¯åŠ è½½æ•°æ®åˆ°Innodbä¸­çš„æœ€å¿«æ–¹å¼ã€‚å¦‚æœä¸æ˜¯æŒ‰ç…§ä¸»   é”®æ’å…¥ï¼Œæœ€å¥½åœ¨åŠ è½½å®Œæˆåä½¿ç”¨OPTIMIZE TABLEå‘½ä»¤é‡æ–°ç»„ç»‡ä¸€ä¸‹è¡¨ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("èšç°‡ç´¢å¼•åœ¨æ’å…¥æ–°è¡Œå’Œæ›´æ–°ä¸»é”®æ—¶ï¼Œå¯èƒ½å¯¼è‡´â€œé¡µåˆ†è£‚â€é—®é¢˜ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("èšç°‡ç´¢å¼•å¯èƒ½å¯¼è‡´å…¨è¡¨æ‰«æé€Ÿåº¦å˜æ…¢ï¼Œå› ä¸ºå¯èƒ½éœ€è¦åŠ è½½ç‰©ç†ä¸Šç›¸éš”è¾ƒè¿œçš„é¡µåˆ°å†…å­˜ä¸­ï¼ˆéœ€è¦è€—æ—¶çš„ç£ç›˜å¯»é“æ“ä½œï¼‰ã€‚")])])]),a._v(" "),t("h3",{attrs:{id:"éèšç°‡ç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#éèšç°‡ç´¢å¼•"}},[a._v("#")]),a._v(" éèšç°‡ç´¢å¼•")]),a._v(" "),t("p",[a._v("éèšç°‡ç´¢å¼•ï¼Œåˆå«äºŒçº§ç´¢å¼•ã€‚äºŒçº§ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸­ä¿å­˜çš„ä¸æ˜¯æŒ‡å‘è¡Œçš„ç‰©ç†æŒ‡é’ˆï¼Œè€Œæ˜¯è¡Œçš„ä¸»é”®å€¼ã€‚å½“é€šè¿‡äºŒçº§ç´¢å¼•æŸ¥æ‰¾è¡Œï¼Œå­˜å‚¨å¼•æ“éœ€è¦åœ¨äºŒçº§ç´¢å¼•ä¸­æ‰¾åˆ°ç›¸åº”çš„å¶å­èŠ‚ç‚¹ï¼Œè·å¾—è¡Œçš„ä¸»é”®å€¼ï¼Œç„¶åä½¿ç”¨ä¸»é”®å»èšç°‡ç´¢å¼•ä¸­æŸ¥æ‰¾æ•°æ®è¡Œï¼Œè¿™éœ€è¦ä¸¤æ¬¡B-TreeæŸ¥æ‰¾ã€‚")]),a._v(" "),t("h3",{attrs:{id:"æ™®é€šç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ™®é€šç´¢å¼•"}},[a._v("#")]),a._v(" æ™®é€šç´¢å¼•")]),a._v(" "),t("p",[a._v("æ™®é€šç´¢å¼•ï¼ˆç”±å…³é”®å­— KEY æˆ– INDEX å®šä¹‰çš„ç´¢å¼•ï¼‰çš„ä»»åŠ¡æ˜¯åŠ å¿«å¯¹æ•°æ®çš„è®¿é—®é€Ÿåº¦ã€‚å› æ­¤ï¼Œåº”è¯¥åªä¸ºé‚£äº›æœ€ç»å¸¸å‡ºç°æŸ¥è¯¢æ¡ä»¶ï¼ˆWHERE column =ï¼‰æˆ–æ’åºæ¡ä»¶ï¼ˆORDER BY columnï¼‰ä¸­çš„æ•°æ®åˆ—åˆ›å»ºç´¢å¼•ã€‚åªè¦æœ‰å¯èƒ½ï¼Œå°±åº”è¯¥é€‰æ‹©ä¸€ä¸ªæ•°æ®æœ€æ•´é½ã€æœ€ç´§å‡‘çš„æ•°æ®åˆ—ï¼ˆå¦‚ä¸€ä¸ªæ•´æ•°ç±»å‹çš„æ•°æ®åˆ—ï¼‰æ¥åˆ›å»ºç´¢å¼•ã€‚")]),a._v(" "),t("h3",{attrs:{id:"å”¯ä¸€ç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å”¯ä¸€ç´¢å¼•"}},[a._v("#")]),a._v(" å”¯ä¸€ç´¢å¼•")]),a._v(" "),t("p",[a._v('ä¸"æ™®é€šç´¢å¼•"ç±»ä¼¼ï¼Œä¸åŒçš„å°±æ˜¯ï¼šç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ã€‚')]),a._v(" "),t("h3",{attrs:{id:"ä¸»é”®ç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»é”®ç´¢å¼•"}},[a._v("#")]),a._v(" ä¸»é”®ç´¢å¼•")]),a._v(" "),t("p",[a._v("ä¸»é”®ç´¢å¼•æ˜¯ä¸€ç§ç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼Œä¸å…è®¸æœ‰ç©ºå€¼ï¼Œè¿™ä¸ªç´¢å¼•å°±æ˜¯æ‰€è°“çš„â€œä¸»ç´¢å¼•â€ã€‚ä¸»ç´¢å¼•åŒºåˆ«æ˜¯ï¼šå‰è€…åœ¨å®šä¹‰æ—¶ä½¿ç”¨çš„å…³é”®å­—æ˜¯ PRIMARY è€Œä¸æ˜¯ UNIQUEã€‚")]),a._v(" "),t("h3",{attrs:{id:"btreeç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#btreeç´¢å¼•"}},[a._v("#")]),a._v(" BTreeç´¢å¼•")]),a._v(" "),t("p",[a._v("å¶å­ç»“ç‚¹æŒ‡é’ˆéƒ½ä¸ºnullï¼›\néå¶å­ç»“ç‚¹çš„keyéƒ½æ˜¯[key,data]äºŒå…ƒç»„ï¼Œå…¶ä¸­keyè¡¨ç¤ºä½œä¸ºç´¢å¼•çš„é”®ï¼Œdataä¸ºé”®å€¼æ‰€åœ¨è¡Œçš„æ•°æ®ï¼›\nBTreeçš„ç»“æ„ä¸‹ï¼Œå°±å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æŸ¥æ‰¾æ–¹å¼ï¼ŒæŸ¥æ‰¾å¤æ‚åº¦ä¸ºh*log(n)ï¼Œä¸€èˆ¬æ¥è¯´æ ‘çš„é«˜åº¦æ˜¯å¾ˆå°çš„ï¼Œä¸€èˆ¬ä¸º3å·¦å³ï¼Œå› æ­¤BTreeæ˜¯ä¸€ä¸ªéå¸¸é«˜æ•ˆçš„æŸ¥æ‰¾ç»“æ„ã€‚")]),a._v(" "),t("h3",{attrs:{id:"b-treeç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#b-treeç´¢å¼•"}},[a._v("#")]),a._v(" B+Treeç´¢å¼•")]),a._v(" "),t("p",[a._v("B+Treeæ˜¯BTreeçš„ä¸€ä¸ªå˜ç§ï¼Œè®¾dä¸ºæ ‘çš„åº¦æ•°ï¼Œhä¸ºæ ‘çš„é«˜åº¦ï¼ŒB+Treeå’ŒBTreeçš„ä¸åŒä¸»è¦åœ¨äºï¼š\nB+Treeä¸­çš„éå¶å­ç»“ç‚¹ä¸å­˜å‚¨æ•°æ®ï¼Œåªå­˜å‚¨é”®å€¼ï¼›\nB+Treeçš„å¶å­ç»“ç‚¹æ²¡æœ‰æŒ‡é’ˆï¼Œæ‰€æœ‰é”®å€¼éƒ½ä¼šå‡ºç°åœ¨å¶å­ç»“ç‚¹ä¸Šï¼Œä¸”keyå­˜å‚¨çš„é”®å€¼å¯¹åº”çš„æ•°æ®çš„ç‰©ç†åœ°å€ï¼›")]),a._v(" "),t("h3",{attrs:{id:"ç»„åˆç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç»„åˆç´¢å¼•"}},[a._v("#")]),a._v(" ç»„åˆç´¢å¼•")]),a._v(" "),t("p",[a._v("éµå¾ªæœ€å·¦å‰ç¼€åŸåˆ™ï¼Œç´¢å¼•å¯ä»¥è¦†ç›–å¤šä¸ªæ•°æ®åˆ—ï¼Œå¦‚åƒ INDEX (columnA, columnB) ç´¢å¼•ã€‚è¿™ç§ç´¢å¼•çš„ç‰¹ç‚¹æ˜¯ MySQL å¯ä»¥æœ‰é€‰æ‹©åœ°ä½¿ç”¨ä¸€ä¸ªè¿™æ ·çš„ç´¢å¼•ã€‚å¦‚æœæŸ¥è¯¢æ“ä½œåªéœ€è¦ç”¨åˆ° columnA æ•°æ®åˆ—ä¸Šçš„ä¸€ä¸ªç´¢å¼•ï¼Œå°±å¯ä»¥ä½¿ç”¨å¤åˆç´¢å¼• INDEX(columnA, columnB)ã€‚ä¸è¿‡ï¼Œè¿™ç§ç”¨æ³•ä»…é€‚ç”¨äºåœ¨å¤åˆç´¢å¼•ä¸­æ’åˆ—åœ¨å‰çš„æ•°æ®åˆ—ç»„åˆã€‚æ¯”å¦‚è¯´ï¼ŒINDEX (Aï¼ŒBï¼ŒC) å¯ä»¥å½“åš A æˆ– (A,B) çš„ç´¢å¼•æ¥ä½¿ç”¨ï¼Œä½†ä¸èƒ½å½“åš Bã€C æˆ– (B,C) çš„ç´¢å¼•æ¥ä½¿ç”¨ã€‚")]),a._v(" "),t("h3",{attrs:{id:"å…¨æ–‡ç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å…¨æ–‡ç´¢å¼•"}},[a._v("#")]),a._v(" å…¨æ–‡ç´¢å¼•")]),a._v(" "),t("blockquote",[t("p",[a._v("ä»…å¯ç”¨äº MyISAM è¡¨ï¼Œé’ˆå¯¹è¾ƒå¤§çš„æ•°æ®ï¼Œç”Ÿæˆå…¨æ–‡ç´¢å¼•å¾ˆè€—æ—¶å¥½ç©ºé—´ã€‚")])]),a._v(" "),t("p",[t("strong",[a._v("ç´¢å¼•å¤±æ•ˆ")])]),a._v(" "),t("ul",[t("li",[a._v("å…³è”å­—æ®µç±»å‹ä¸åŒ")]),a._v(" "),t("li",[a._v("ç´¢å¼•å­—æ®µä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼")]),a._v(" "),t("li",[a._v("like %AAA")]),a._v(" "),t("li",[a._v("is null")])]),a._v(" "),t("ul",[t("li",[t("p",[a._v("GROUP BY çš„ç´¢å¼•åº”ç”¨")])]),a._v(" "),t("li",[t("p",[a._v("1ã€æŸ¥è¯¢å­—æ®µå¿…é¡»å’Œåé¢GROUP BY ä¸€è‡´\nselect TeamID from competeinfo where TeamID >10 group by TeamIDã€‚\nè¿™é‡Œå°±æ˜¯é€šè¿‡TeamID æ¥æŸ¥æ‰¾ã€‚å®Œæˆgroup by ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("2ã€è”åˆç´¢å¼•çš„åº”ç”¨ï¼Œåˆ‡è®°æ³¨æ„GROUP BY é¡ºåºï¼ŒWhere æ¡ä»¶å’ŒGROUP BY å­—æ®µå¾—æ˜¯ä¸€ä¸ªç´¢å¼•é‡Œé¢çš„\nè¿™ä¸ªè¡¨CompeteID,TeamIDå»ºç«‹è”åˆç´¢å¼•\n1ï¼‰select TeamID from competeinfo where TeamID >10 and CompeteID > 100020 group by CompeteID\nè¿™ä¸ªæŸ¥è¯¢ç”¨åˆ°äº†CompeteID,TeamIDè”åˆç´¢å¼•\n2ï¼‰select TeamID from competeinfo where TeamID >10 and CompeteID > 100020 group by TeamID\nè¿™æ ·çš„è¯æŸ¥è¯¢group byä¸­å°±æ²¡æœ‰ç”¨åˆ°ç´¢å¼•äº†")])])]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("è”åˆç´¢å¼•çš„ä½¿ç”¨")]),a._v(" "),t("ul",[t("li",[a._v("Indexï¼ˆNameï¼ŒAgeï¼‰è¡¨ç¤ºåœ¨Nameï¼ŒAgeä¸¤åˆ—ä¸Šå»ºç«‹è”åˆç´¢å¼•")]),a._v(" "),t("li",[a._v("å¦‚æœwhere name='pp' èƒ½ä½¿ç”¨ç´¢å¼•")]),a._v(" "),t("li",[a._v("where age=25æ—¶ä¸èƒ½ä½¿ç”¨ç´¢å¼•")]),a._v(" "),t("li",[a._v("where name='pp' and age>25 èƒ½ä½¿ç”¨ç´¢å¼•")]),a._v(" "),t("li",[a._v("where name ='pp' order by age èƒ½ä½¿ç”¨ç´¢å¼•")]),a._v(" "),t("li",[a._v("where name>'pp' order by age ä¸èƒ½ä½¿ç”¨ç´¢å¼•")]),a._v(" "),t("li",[a._v("where name>'pp' order by name,age èƒ½ä½¿ç”¨ç´¢å¼•")]),a._v(" "),t("li",[a._v("order by name asc age desc å°†ä¸èƒ½ä½¿ç”¨ç´¢å¼•ï¼")])])]),a._v(" "),t("h2",{attrs:{id:"ä¸»ä»é…ç½®æ–‡ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»ä»é…ç½®æ–‡ä»¶"}},[a._v("#")]),a._v(" ä¸»ä»é…ç½®æ–‡ä»¶")]),a._v(" "),t("p",[a._v("MySQLä¸»ä»å¤åˆ¶æ—¶æ—¶åŒæ­¥ï¼Œæ˜¯åœ¨å¼€å¯log-binæ—¥å¿—æ–‡ä»¶çš„åŸºç¡€ä¸Šï¼Œå¼€å§‹çš„æ—¶å€™è®°å½•ä¸»åº“çš„Positionï¼Œä½œä¸ºä»åº“åŒæ­¥çš„å¼€å§‹èŠ‚ç‚¹,æ‰€ä»¥ä¸»ä»åº“éƒ½å¿…é¡»å¼€å¯log-binæ—¥å¿—ï¼Œæ¢å¤æ•°æ®ä¹Ÿæ˜¯æ ¹æ®æ­¤æ–‡ä»¶æ¥æ“ä½œè¦æ¢å¤çš„èŠ‚ç‚¹ã€‚")]),a._v(" "),t("p",[a._v("æŸ¥çœ‹ä¸»åº“Positionï¼š")]),a._v(" "),t("p",[t("img",{attrs:{src:"/images/pasted-52.png",alt:"upload successful"}})]),a._v(" "),t("h3",{attrs:{id:"ä¸»åº“é…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»åº“é…ç½®"}},[a._v("#")]),a._v(" ä¸»åº“é…ç½®")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("GRANT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("replication")]),a._v(" slave "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ON")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TO")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'root'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("@'10.10.253.%'")]),a._v(" identified "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("by")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'123456'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nflush "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("privileges")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("h3",{attrs:{id:"ä¸»åº“é…ç½®æ–‡ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»åº“é…ç½®æ–‡ä»¶"}},[a._v("#")]),a._v(" ä¸»åº“é…ç½®æ–‡ä»¶")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#å®‰è£…ç›®å½•")]),a._v("\nbasedir "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" /usr/local/mysql\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#æ•°æ®ç›®å½•")]),a._v("\ndatadir "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" /usr/local/mysql/data\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#ç«¯å£")]),a._v("\nport "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#socket è·¯å¾„")]),a._v("\nsocket "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" /var/lib/mysql/mysql.sock\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#log-binæ—¥å¿—æ–‡ä»¶")]),a._v("\nlog-bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mysql-bin-1\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#serverIdï¼Œä¸€èˆ¬ä¸ºipçš„æœ€åä¸€æ®µï¼Œé¿å…é‡å¤")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("server_id")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("119")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#å¼€å¯æŸ¥è¯¢ç¼“å­˜")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("explicit_defaults_for_timestamp")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#è®¾ç½®æœ€æ–°æ—¥å¿—ä¿ç•™æ—¶é—´ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´")]),a._v("\nexpire_logs_days "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#sql_modeæ¨¡å¼ï¼Œå®šä¹‰äº†mysqlåº”è¯¥æ”¯æŒçš„sqlè¯­æ³•ï¼Œæ•°æ®æ ¡éªŒç­‰")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("sql_mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\n\n")])])]),t("hr"),a._v(" "),t("h3",{attrs:{id:"sql-mode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql-mode"}},[a._v("#")]),a._v(" sql_mode")]),a._v(" "),t("p",[t("strong",[a._v("å¸¸è§çš„sql_modeæœ‰ä»¥ä¸‹å‡ ç§")])]),a._v(" "),t("h4",{attrs:{id:"no-engine-substitutionæ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#no-engine-substitutionæ¨¡å¼"}},[a._v("#")]),a._v(" NO_ENGINE_SUBSTITUTIONæ¨¡å¼")]),a._v(" "),t("ul",[t("li",[a._v("å¦‚æœéœ€è¦çš„å­˜å‚¨å¼•æ“è¢«ç¦ç”¨æˆ–æœªç¼–è¯‘ï¼Œé‚£ä¹ˆæŠ›å‡ºé”™è¯¯ã€‚ä¸è®¾ç½®æ­¤å€¼æ—¶ï¼Œç”¨é»˜è®¤çš„å­˜å‚¨å¼•æ“æ›¿ä»£ï¼Œå¹¶æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚")])]),a._v(" "),t("h4",{attrs:{id:"strict-trans-tablesæ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#strict-trans-tablesæ¨¡å¼"}},[a._v("#")]),a._v(" STRICT_TRANS_TABLESæ¨¡å¼")]),a._v(" "),t("ul",[t("li",[a._v("ä¸¥æ ¼æ¨¡å¼ï¼Œè¿›è¡Œæ•°æ®çš„ä¸¥æ ¼æ ¡éªŒï¼Œé”™è¯¯æ•°æ®ä¸èƒ½æ’å…¥ï¼ŒæŠ¥erroré”™è¯¯ã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œå¦‚æœä¸€ä¸ªå€¼ä¸èƒ½æ’å…¥åˆ°ä¸€ä¸ªäº‹åŠ¡è¡¨ä¸­ï¼Œåˆ™ä¸­æ–­å½“å‰çš„æ“ä½œï¼Œå¯¹éäº‹åŠ¡è¡¨ä¸åšé™åˆ¶ã€‚")])]),a._v(" "),t("h4",{attrs:{id:"ansiæ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ansiæ¨¡å¼"}},[a._v("#")]),a._v(" ANSIæ¨¡å¼")]),a._v(" "),t("ul",[t("li",[a._v("å®½æ¾æ¨¡å¼ï¼Œå¯¹æ’å…¥æ•°æ®è¿›è¡Œæ ¡éªŒï¼Œå¦‚æœä¸ç¬¦åˆå®šä¹‰ç±»å‹æˆ–é•¿åº¦ï¼Œå¯¹æ•°æ®ç±»å‹è°ƒæ•´æˆ–æˆªæ–­ä¿å­˜ï¼ŒæŠ¥warningè­¦å‘Šã€‚")])]),a._v(" "),t("h4",{attrs:{id:"traditionalæ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#traditionalæ¨¡å¼"}},[a._v("#")]),a._v(" TRADITIONALæ¨¡å¼")]),a._v(" "),t("ul",[t("li",[a._v("ä¸¥æ ¼æ¨¡å¼ï¼Œå½“å‘mysqlæ•°æ®åº“æ’å…¥æ•°æ®æ—¶ï¼Œè¿›è¡Œæ•°æ®çš„ä¸¥æ ¼æ ¡éªŒï¼Œä¿è¯é”™è¯¯æ•°æ®ä¸èƒ½æ’å…¥ï¼ŒæŠ¥erroré”™è¯¯ã€‚ç”¨äºäº‹ç‰©æ—¶ï¼Œä¼šè¿›è¡Œäº‹ç‰©çš„å›æ»šã€‚")])]),a._v(" "),t("h4",{attrs:{id:"only-full-group-byæ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#only-full-group-byæ¨¡å¼"}},[a._v("#")]),a._v(" ONLY_FULL_GROUP_BYæ¨¡å¼")]),a._v(" "),t("ul",[t("li",[a._v("å‡ºç°åœ¨selectè¯­å¥ã€HAVINGæ¡ä»¶å’ŒORDER BYè¯­å¥ä¸­çš„åˆ—ï¼Œå¿…é¡»æ˜¯GROUP BYçš„åˆ—æˆ–è€…ä¾èµ–äºGROUP BYåˆ—çš„å‡½æ•°åˆ—ã€‚")])]),a._v(" "),t("h4",{attrs:{id:"no-auto-value-on-zeroæ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#no-auto-value-on-zeroæ¨¡å¼"}},[a._v("#")]),a._v(" NO_AUTO_VALUE_ON_ZEROæ¨¡å¼")]),a._v(" "),t("ul",[t("li",[a._v("è¯¥å€¼å½±å“è‡ªå¢é•¿åˆ—çš„æ’å…¥ã€‚é»˜è®¤è®¾ç½®ä¸‹ï¼Œæ’å…¥0æˆ–NULLä»£è¡¨ç”Ÿæˆä¸‹ä¸€ä¸ªè‡ªå¢é•¿å€¼ã€‚å¦‚æœç”¨æˆ·å¸Œæœ›æ’å…¥çš„å€¼ä¸º0ï¼Œè€Œè¯¥åˆ—åˆæ˜¯è‡ªå¢é•¿çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªé€‰é¡¹å°±æœ‰ç”¨äº†ã€‚")])]),a._v(" "),t("h4",{attrs:{id:"no-zero-in-dateæ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#no-zero-in-dateæ¨¡å¼"}},[a._v("#")]),a._v(" NO_ZERO_IN_DATEæ¨¡å¼")]),a._v(" "),t("ul",[t("li",[a._v("è¿™ä¸ªæ¨¡å¼å½±å“äº†æ˜¯å¦å…è®¸æ—¥æœŸä¸­çš„æœˆä»½å’Œæ—¥åŒ…å«0ã€‚å¦‚æœå¼€å¯æ­¤æ¨¡å¼ï¼Œ2016-01-00æ˜¯ä¸å…è®¸çš„ï¼Œä½†æ˜¯0000-02-01æ˜¯å…è®¸çš„ã€‚å®ƒå®é™…çš„è¡Œä¸ºå—åˆ° strict modeæ˜¯å¦å¼€å¯çš„å½±å“1ã€‚")])]),a._v(" "),t("h4",{attrs:{id:"no-auto-create-useræ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#no-auto-create-useræ¨¡å¼"}},[a._v("#")]),a._v(" NO_AUTO_CREATE_USERæ¨¡å¼")]),a._v(" "),t("ul",[t("li",[a._v("ç¦æ­¢GRANTåˆ›å»ºå¯†ç ä¸ºç©ºçš„ç”¨æˆ·")])]),a._v(" "),t("h4",{attrs:{id:"ansi-quotesæ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ansi-quotesæ¨¡å¼"}},[a._v("#")]),a._v(" ANSI_QUOTESæ¨¡å¼")]),a._v(" "),t("ul",[t("li",[a._v("å¯ç”¨ANSI_QUOTESåï¼Œä¸èƒ½ç”¨åŒå¼•å·æ¥å¼•ç”¨å­—ç¬¦ä¸²ï¼Œå› ä¸ºå®ƒè¢«è§£é‡Šä¸ºè¯†åˆ«ç¬¦ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"ä»åº“è®¾ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»åº“è®¾ç½®"}},[a._v("#")]),a._v(" ä»åº“è®¾ç½®")]),a._v(" "),t("blockquote",[t("ul",[t("li",[a._v("æ ¹æ®æŸ¥çœ‹åˆ°çš„ä¸»åº“statusï¼Œè®°å½•log-binå’Œpositionã€‚")])])]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[a._v("\nchange master "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("to")]),a._v(" master_host"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'192.168.80.9'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("master_user"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'root'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("master_password"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'123456'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("master_log_file"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'mysql-bin-1.000003'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("master_log_pos"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("13177757")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("h3",{attrs:{id:"ä»åº“é…ç½®æ–‡ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»åº“é…ç½®æ–‡ä»¶"}},[a._v("#")]),a._v(" ä»åº“é…ç½®æ–‡ä»¶")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#å®‰è£…ç›®å½•")]),a._v("\nbasedir "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" /usr/local/mysql\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#æ•°æ®ç›®å½•")]),a._v("\ndatadir "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" /usr/local/mysql/data\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#ç«¯å£")]),a._v("\nport "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#socket è·¯å¾„")]),a._v("\nsocket "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" /var/lib/mysql/mysql.sock\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#log-binæ—¥å¿—æ–‡ä»¶")]),a._v("\nlog-bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mysql-bin-1\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#serverIdï¼Œä¸€èˆ¬ä¸ºipçš„æœ€åä¸€æ®µï¼Œé¿å…é‡å¤")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("server_id")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("119")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#å¼€å¯æŸ¥è¯¢ç¼“å­˜")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("explicit_defaults_for_timestamp")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#è®¾ç½®éœ€è¦åŒæ­¥ä¸»åº“çš„DB")]),a._v("\nreplicate-do-db"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("hsg_oa\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#è®¾ç½®ä¸éœ€è¦åŒæ­¥ä¸»åº“çš„DB")]),a._v("\nreplicate-ignore-db"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("information_schema,mysql,performance_schema,sys\n")])])]),t("p",[t("code",[a._v("åˆ é™¤ä¸»ä»åº“dataä¸‹é¢çš„auto.cnfï¼Œä¼šå¯¼è‡´ä¸»ä»åº“åŒæ­¥èŠ‚ç‚¹ä¸ä¸€è‡´é—®é¢˜ã€‚")])]),a._v(" "),t("h3",{attrs:{id:"é»˜è®¤é…ç½®å‚æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é»˜è®¤é…ç½®å‚æ•°"}},[a._v("#")]),a._v(" é»˜è®¤é…ç½®å‚æ•°")]),a._v(" "),t("ul",[t("li",[a._v("sort_buffer_size")]),a._v(" "),t("li",[a._v("å®šä¹‰äº†æ¯ä¸ªçº¿ç¨‹æ’åºç¼“å­˜åŒºçš„å¤§å°ï¼ŒMySQLåœ¨æœ‰æŸ¥è¯¢ã€éœ€è¦åšæ’åºæ“ä½œæ—¶æ‰ä¼šä¸ºæ¯ä¸ªç¼“å†²åŒºåˆ†é…å†…å­˜ï¼ˆç›´æ¥åˆ†é…è¯¥å‚æ•°çš„å…¨éƒ¨å†…å­˜ï¼‰ï¼›")]),a._v(" "),t("li",[a._v("join_buffer_size")]),a._v(" "),t("li",[a._v("å®šä¹‰äº†æ¯ä¸ªçº¿ç¨‹æ‰€ä½¿ç”¨çš„è¿æ¥ç¼“å†²åŒºçš„å¤§å°ï¼Œå¦‚æœä¸€ä¸ªæŸ¥è¯¢å…³è”äº†å¤šå¼ è¡¨ï¼ŒMySQLä¼šä¸ºæ¯å¼ è¡¨åˆ†é…ä¸€ä¸ªè¿æ¥ç¼“å†²ï¼Œå¯¼è‡´ä¸€ä¸ªæŸ¥è¯¢äº§ç”Ÿäº†å¤šä¸ªè¿æ¥ç¼“å†²ï¼›")]),a._v(" "),t("li",[a._v("read_buffer_size")]),a._v(" "),t("li",[a._v("å®šä¹‰äº†å½“å¯¹ä¸€å¼ MyISAMè¿›è¡Œå…¨è¡¨æ‰«ææ—¶æ‰€åˆ†é…è¯»ç¼“å†²æ± å¤§å°ï¼ŒMySQLæœ‰æŸ¥è¯¢éœ€è¦æ—¶ä¼šä¸ºå…¶åˆ†é…å†…å­˜ï¼Œå…¶å¿…é¡»æ˜¯4kçš„å€æ•°ï¼›")]),a._v(" "),t("li",[a._v("read_rnd_buffer_size")]),a._v(" "),t("li",[a._v("ç´¢å¼•ç¼“å†²åŒºå¤§å°ï¼ŒMySQLæœ‰æŸ¥è¯¢éœ€è¦æ—¶ä¼šä¸ºå…¶åˆ†é…å†…å­˜ï¼Œåªä¼šåˆ†é…éœ€è¦çš„å¤§å°ã€‚")])]),a._v(" "),t("p",[t("code",[a._v("æ³¨æ„ï¼šä»¥ä¸Šå››ä¸ªå‚æ•°æ˜¯ä¸ºä¸€ä¸ªçº¿ç¨‹åˆ†é…çš„ï¼Œå¦‚æœæœ‰100ä¸ªè¿æ¥ï¼Œé‚£ä¹ˆéœ€è¦Ã—100ã€‚")])]),a._v(" "),t("p",[t("strong",[a._v("MySQLæ•°æ®åº“å®ä¾‹ï¼š")])]),a._v(" "),t("ul",[t("li",[t("p",[a._v("MySQLæ˜¯å•è¿›ç¨‹å¤šçº¿ç¨‹ï¼ˆè€Œoracleæ˜¯å¤šè¿›ç¨‹ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´MySQLå®ä¾‹åœ¨ç³»ç»Ÿä¸Šè¡¨ç°å°±æ˜¯ä¸€ä¸ªæœåŠ¡è¿›ç¨‹ï¼Œå³è¿›ç¨‹ï¼›")])]),a._v(" "),t("li",[t("p",[a._v("MySQLå®ä¾‹æ˜¯çº¿ç¨‹å’Œå†…å­˜ç»„æˆï¼Œå®ä¾‹æ‰æ˜¯çœŸæ­£ç”¨äºæ“ä½œæ•°æ®åº“æ–‡ä»¶çš„ï¼›")])]),a._v(" "),t("li",[t("p",[a._v("ä¸€èˆ¬æƒ…å†µä¸‹ä¸€ä¸ªå®ä¾‹æ“ä½œä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“ï¼›é›†ç¾¤æƒ…å†µä¸‹å¤šä¸ªå®ä¾‹æ“ä½œä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“ã€‚")])])]),a._v(" "),t("p",[t("strong",[a._v("å¦‚ä½•ä¸ºç¼“å­˜æ± åˆ†é…å†…å­˜ï¼š")])]),a._v(" "),t("ul",[t("li",[a._v("Innodb_buffer_pool_sizeï¼Œå®šä¹‰äº†Innodbæ‰€ä½¿ç”¨ç¼“å­˜æ± çš„å¤§å°ï¼Œå¯¹å…¶æ€§èƒ½ååˆ†é‡è¦ï¼Œå¿…é¡»è¶³å¤Ÿå¤§ï¼Œä½†æ˜¯è¿‡å¤§æ—¶ï¼Œä½¿å¾—Innodb å…³é—­æ—¶å€™éœ€è¦æ›´å¤šæ—¶é—´æŠŠè„é¡µä»ç¼“å†²æ± ä¸­åˆ·æ–°åˆ°ç£ç›˜ä¸­ï¼›")])]),a._v(" "),t("p",[t("strong",[a._v("æ€»å†…å­˜-ï¼ˆæ¯ä¸ªçº¿ç¨‹æ‰€éœ€è¦çš„å†…å­˜*è¿æ¥æ•°ï¼‰-ç³»ç»Ÿä¿ç•™å†…å­˜")])]),a._v(" "),t("ul",[t("li",[t("p",[a._v("key_buffer_sizeï¼Œå®šä¹‰äº†MyISAMæ‰€ä½¿ç”¨çš„ç¼“å­˜æ± çš„å¤§å°ï¼Œç”±äºæ•°æ®æ˜¯ä¾èµ–å­˜å‚¨æ“ä½œç³»ç»Ÿç¼“å­˜çš„ï¼Œæ‰€ä»¥è¦ä¸ºæ“ä½œç³»ç»Ÿé¢„ç•™æ›´å¤§çš„å†…å­˜ç©ºé—´ï¼›")])]),a._v(" "),t("li",[t("p",[a._v("select sum(index_length) from information_schema.talbes where engine='myisam'")])])]),a._v(" "),t("p",[t("code",[a._v("æ³¨æ„ï¼šå³ä½¿å¼€å‘ä½¿ç”¨çš„è¡¨å…¨éƒ¨æ˜¯Innodbè¡¨ï¼Œä¹Ÿè¦ä¸ºMyISAMé¢„ç•™å†…å­˜ï¼Œå› ä¸ºMySQLç³»ç»Ÿä½¿ç”¨çš„è¡¨ä»ç„¶æ˜¯MyISAMè¡¨ã€‚max_connections æ§åˆ¶å…è®¸çš„æœ€å¤§è¿æ¥æ•°ï¼Œä¸€èˆ¬2000æ›´å¤§ã€‚ä¸è¦ä½¿ç”¨å¤–é”®çº¦æŸä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚")])]),a._v(" "),t("h2",{attrs:{id:"æ—¥å¿—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ—¥å¿—"}},[a._v("#")]),a._v(" æ—¥å¿—")]),a._v(" "),t("p",[t("strong",[a._v("äº‹åŠ¡æ€§å­˜å‚¨å¼•æ“åŠä¸»è¦æ—¥å¿—ç±»å‹ï¼šRedo Log ã€ Undo Log å’Œ general log")])]),a._v(" "),t("ul",[t("li",[a._v("Redo Logï¼šå®ç°äº‹åŠ¡çš„æŒä¹…æ€§(å·²æäº¤çš„äº‹åŠ¡)ã€‚")]),a._v(" "),t("li",[a._v("Undo Logï¼šæœªæäº¤çš„äº‹åŠ¡ï¼Œç‹¬ç«‹äºè¡¨ç©ºé—´ï¼Œéœ€è¦éšæœºè®¿é—®ï¼Œå¯ä»¥å­˜å‚¨åœ¨é«˜æ€§èƒ½ioè®¾å¤‡ä¸Š")]),a._v(" "),t("li",[a._v("general logï¼šmysqlå°†å¯¹DBçš„æ‰€æœ‰æ“ä½œéƒ½å¯ä»¥è®°å½•åœ¨general logä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨çº¿å¼€å¯ä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹åˆå§‹åŒ–å‚æ•°å¼€å¯ï¼Œè°ƒè¯•ç”¨ã€‚")])]),a._v(" "),t("p",[t("strong",[a._v("ä¸»è¦è¯´æ˜ä¸€ä¸‹general logçš„ä½¿ç”¨ï¼š")])]),a._v(" "),t("p",[a._v("åœ¨çº¿æ‰“å¼€å’Œå…³é—­")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" global "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("general_log")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("on"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" global "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("general_log")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("off"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("p",[a._v("é€šè¿‡ä¸‹é¢sqlæ–¹æ³•å¯ä»¥æŸ¥çœ‹mysql.general_logè¡¨çš„å­˜å‚¨å¼•æ“æ˜¯ä»€ä¹ˆ\nshow table status from mysql where name='general_log';")]),a._v(" "),t("p",[a._v("è¿™ä¸ªè¡¨çš„ç¼ºçœå­˜å‚¨å¼•æ“æ˜¯CSVï¼Œæˆ‘ä»¬å¯ä»¥å°†è¯¥å­˜å‚¨å¼•æ“ä¿®æ”¹æˆmyisamæ¥è¾¾åˆ°æ›´å¥½çš„æ€§èƒ½ã€‚")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" alter table mysql.general_log "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("engine")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("myisam"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1580")]),a._v(" - You cannot "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'ALTER'")]),a._v(" a log table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" logging is enabled\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" global "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("general_log")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("off"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nQuery OK, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" rows affected\n\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" alter table mysql.general_log "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("engine")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("myisam"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nQuery OK, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),a._v(" rows affected\nRecords: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),a._v("  Duplicates: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("  Warnings: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" global "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("general_log")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("on"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nQuery OK, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" rows affected\n")])])]),t("p",[t("img",{attrs:{src:"/images/pasted-49.png",alt:"upload successful"}})]),a._v(" "),t("p",[t("strong",[a._v("è®°å½•general logå¯ä»¥å¾ˆå¥½çš„ç›‘æ§å½“å‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œå¯ä»¥é€‰æ‹©åœ¨å¿™æ—¶æ‰“å¼€ï¼Œè¿™æ ·å°±å¯ä»¥å¯¹æ€§èƒ½è¿›è¡Œä¼˜åŒ–ã€‚\nä½†general logæ¯”è¾ƒæ¶ˆè€—ç³»ç»Ÿæ€§èƒ½ï¼Œç”Ÿäº§ç³»ç»Ÿä¸å»ºè®®æ‰“å¼€")])]),a._v(" "),t("h3",{attrs:{id:"è§†å›¾"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è§†å›¾"}},[a._v("#")]),a._v(" è§†å›¾")]),a._v(" "),t("p",[t("strong",[a._v("è§†å›¾æ¦‚è¿°")])]),a._v(" "),t("p",[a._v("è§†å›¾æœ¬èº«æ˜¯ä¸€ä¸ªè™šæ‹Ÿè¡¨ï¼Œä¸å­˜æ”¾ä»»ä½•æ•°æ®ï¼ŒæŸ¥è¯¢è§†å›¾çš„æ•°æ®é›†ç”±å…¶ä»–è¡¨ç”Ÿæˆã€‚"),t("code",[a._v("MySQL")]),a._v("åº•å±‚é€šè¿‡ä¸¤ç§ç®—æ³•æ¥å®ç°è§†å›¾ï¼šä¸´æ—¶è¡¨ç®—æ³•ï¼ˆTEMPTABLEï¼‰å’Œåˆå¹¶ç®—æ³•ï¼ˆMERGEï¼‰ã€‚")]),a._v(" "),t("p",[a._v("ä¸´æ—¶è¡¨ç®—æ³•å°±æ˜¯å°†SELECTè¯­å¥çš„ç»“æœå­˜æ”¾åˆ°ä¸´æ—¶è¡¨ä¸­ï¼Œå½“éœ€è¦è®¿é—®è§†å›¾çš„æ—¶å€™ï¼Œç›´æ¥è®¿é—®è¿™ä¸ªä¸´æ—¶è¡¨å³å¯ã€‚")]),a._v(" "),t("p",[a._v("ç›¸æ¯”äºå…¶å®ƒå…³ç³»å‹æ•°æ®åº“çš„è§†å›¾ï¼Œ"),t("code",[a._v("MySQL")]),a._v("çš„è§†å›¾åœ¨åŠŸèƒ½ä¸Šä¼šå¼±å¾ˆå¤šï¼Œæ¯”å¦‚ORACLEå’ŒMS SQL SERVERéƒ½æ”¯æŒç‰©åŒ–è§†å›¾ã€‚ç‰©åŒ–è§†å›¾æ˜¯æŒ‡å°†è§†å›¾ç»“æœæ•°æ®å­˜æ”¾åœ¨ä¸€ä¸ªå¯ä»¥æŸ¥è¯¢çš„è¡¨ä¸­ï¼Œå¹¶å®šæœŸä»åŸå§‹è¡¨ä¸­åˆ·æ–°æ•°æ®åˆ°è¿™å¼ è¡¨ä¸­ï¼Œè¿™å¼ è¡¨å’Œæ™®é€šç‰©ç†è¡¨ä¸€æ ·ï¼Œå¯ä»¥åˆ›å»ºç´¢å¼•ã€ä¸»é”®çº¦æŸç­‰ç­‰ï¼Œæ€§èƒ½ç›¸æ¯”äºä¸´æ—¶è¡¨ä¼šæœ‰è´¨çš„æå‡ã€‚ä½†é—æ†¾çš„æ˜¯"),t("code",[a._v("MySQL")]),a._v("ç›®å‰å¹¶ä¸æ”¯æŒç‰©åŒ–è§†å›¾ï¼Œå½“ç„¶"),t("code",[a._v("MySQL")]),a._v("ä¹Ÿä¸æ”¯æŒåœ¨è§†å›¾ä¸­åˆ›å»ºç´¢å¼•ã€‚")]),a._v(" "),t("p",[a._v("è§†å›¾çš„å®ç°ç®—æ³•æ˜¯è§†å›¾æœ¬èº«çš„å±æ€§å†³å®šçš„ï¼Œè·Ÿä½œç”¨åœ¨è§†å›¾ä¸Šçš„SQLæ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåªè¦åŸè¡¨è®°å½•å’Œè§†å›¾ä¸­çš„è®°å½•æ— æ³•å»ºç«‹ä¸€ä¸€æ˜ å°„çš„å…³ç³»æ—¶ï¼Œ"),t("code",[a._v("MySQL")]),a._v("éƒ½å°†ä½¿ç”¨ä¸´æ—¶è¡¨ç®—æ³•æ¥å®ç°è§†å›¾ã€‚æ¯”å¦‚åˆ›å»ºè§†å›¾çš„SQLä¸­åŒ…å«GROUP BYã€DISTINCTã€UNIONã€èšåˆå‡½æ•°ã€å­æŸ¥è¯¢çš„æ—¶å€™ï¼Œè§†å›¾éƒ½å°†é‡‡ç”¨ä¸´æ—¶è¡¨ç®—æ³•ï¼ˆè¿™äº›è§„åˆ™åœ¨ä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œå¯èƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå…·ä½“è¯·å‚è€ƒå®˜æ–¹æ‰‹å†Œï¼‰")]),a._v(" "),t("p",[t("strong",[a._v("è§†å›¾ç”¨é€”")])]),a._v(" "),t("p",[a._v("é¦–å…ˆè§†å›¾å¯ä»¥ç®€åŒ–åº”ç”¨ä¸Šå±‚çš„æ“ä½œï¼Œè®©åº”ç”¨æ›´ä¸“æ³¨äºå…¶æ‰€å…³å¿ƒçš„æ•°æ®ã€‚å…¶æ¬¡ï¼Œè§†å›¾èƒ½å¤Ÿå¯¹æ•æ„Ÿæ•°æ®æä¾›å®‰å…¨ä¿æŠ¤ï¼Œæ¯”å¦‚ï¼šå¯¹ä¸åŒçš„ç”¨æˆ·å®šä¹‰ä¸åŒçš„è§†å›¾ï¼Œå¯ä»¥ä½¿æ•æ„Ÿæ•°æ®ä¸å‡ºç°åœ¨ä¸åº”è¯¥çœ‹åˆ°è¿™äº›æ•°æ®çš„ç”¨æˆ·è§†å›¾ä¸Šï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨è§†å›¾å®ç°åŸºäºåˆ—çš„æƒé™æ§åˆ¶ï¼Œè€Œä¸éœ€è¦çœŸæ­£çš„åœ¨æ•°æ®åº“ä¸­åˆ›å»ºåˆ—æƒé™ã€‚å†è€…ï¼Œè§†å›¾å¯ä»¥æ–¹ä¾¿ç³»ç»Ÿè¿ç»´ï¼Œæ¯”å¦‚ï¼šåœ¨é‡æ„schemaçš„æ—¶å€™ä½¿ç”¨è§†å›¾ï¼Œä½¿å¾—åœ¨ä¿®æ”¹è§†å›¾åº•å±‚è¡¨ç»“æ„çš„æ—¶å€™ï¼Œåº”ç”¨ä»£ç è¿˜å¯ä»¥ç»§ç»­è¿è¡Œä¸æŠ¥é”™ã€‚")]),a._v(" "),t("h2",{attrs:{id:"explain-profiling"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#explain-profiling"}},[a._v("#")]),a._v(" Explain&Profiling")]),a._v(" "),t("h3",{attrs:{id:"explain"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#explain"}},[a._v("#")]),a._v(" Explain")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("ä½¿ç”¨EXPLAINå…³é”®å­—å¯ä»¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡ŒSQLæŸ¥è¯¢è¯­å¥ï¼Œä»è€ŒçŸ¥é“MySQLæ˜¯ å¦‚ä½•å¤„ç†ä½ çš„SQLè¯­å¥çš„ã€‚åˆ†æä½ çš„æŸ¥è¯¢è¯­å¥æˆ–æ˜¯è¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆã€‚")])]),a._v(" "),t("li",[t("p",[a._v("ä½¿ç”¨æ–¹å¼ï¼šExplain+SQLè¯­å¥")])]),a._v(" "),t("li",[t("p",[a._v("è¯¦ç»†å‚æ•°è¯´æ˜å‚è§"),t("a",{attrs:{href:"https://segmentfault.com/a/1190000008131735",target:"_blank",rel:"noopener noreferrer"}},[a._v("MySQL æ€§èƒ½ä¼˜åŒ–ç¥å™¨ Explain ä½¿ç”¨åˆ†æ"),t("OutboundLink")],1),a._v("ï¼Œé‡Œé¢å†™çš„å¾ˆæœ‰ç‰¹ç‚¹ã€‚")])])]),a._v(" "),t("h3",{attrs:{id:"profiling"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#profiling"}},[a._v("#")]),a._v(" Profiling")]),a._v(" "),t("ul",[t("li",[a._v("å¼€å¯profilingè®¾ç½®")])]),a._v(" "),t("p",[t("strong",[a._v("æŸ¥çœ‹profilingä¿¡æ¯çŠ¶æ€: onä¸ºå¼€å¯ï¼Œoffå…³é—­")])]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("show")]),a._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("like")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'%profiling%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("    \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("set")]),a._v(" profiling"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[a._v("æ‰§è¡ŒSQLæŸ¥è¯¢")])]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" oa_sign_in "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("show")]),a._v("  profiles"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("p",[t("img",{attrs:{src:"/images/pasted-46.png",alt:"upload successful"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"/images/pasted-47.png",alt:"upload successful"}})]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("show profile cpu,block io "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" query "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("168")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("p",[t("img",{attrs:{src:"/images/pasted-48.png",alt:"upload successful"}})]),a._v(" "),t("p",[a._v("{% blockquote %}")]),a._v(" "),t("h2",{attrs:{id:"å‚è€ƒæ–‡çŒ®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡çŒ®"}},[a._v("#")]),a._v(" å‚è€ƒæ–‡çŒ®")]),a._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://dba.stackexchange.com/questions/55969/statistics-state-in-mysql-processlist",target:"_blank",rel:"noopener noreferrer"}},[a._v("statistics State in MySQL Processlist"),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"http://mysqlinternals.blogspot.com/2015/05/list-of-background-operations-performed.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("List of background operations performed by MySQL InnoDB Main thread"),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"http://imysql.com/2015/06/10/mysql-faq-processlist-thread-states.shtml",target:"_blank",rel:"noopener noreferrer"}},[a._v("processlistä¸­å“ªäº›çŠ¶æ€è¦å¼•èµ·å…³æ³¨"),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"http://imysql.com/2016/11/20/mysql-faq-what-cause-diskio-so-high.shtml",target:"_blank",rel:"noopener noreferrer"}},[a._v("æ˜¯ä»€ä¹ˆå¯¼è‡´MySQLæ•°æ®åº“æœåŠ¡å™¨ç£ç›˜I/Oé«˜ï¼Ÿ"),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"http://seanlook.com/2017/10/13/mysql-table_open_cache_file_limits",target:"_blank",rel:"noopener noreferrer"}},[a._v("table_open_cache ä¸ table_definition_cache å¯¹MySQL(å†…å­˜)çš„å½±å“"),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/5.6/en/optimizing-innodb-diskio.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("8.5.8 Optimizing InnoDB Disk I/O"),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.cnblogs.com/huanongying/p/7021555.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("MySQLçš„å››ç§äº‹åŠ¡éš”ç¦»çº§åˆ«"),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://blog.csdn.net/whoamiyang/article/details/51901888",target:"_blank",rel:"noopener noreferrer"}},[a._v("è½»æ¾ç†è§£MYSQL MVCC å®ç°æœºåˆ¶"),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://segmentfault.com/a/1190000013672421",target:"_blank",rel:"noopener noreferrer"}},[a._v("MySQLæ€§èƒ½ç®¡ç†åŠæ¶æ„è®¾è®¡"),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"http://www.uml.org.cn/sjjm/201107145.asp#nav-4-2",target:"_blank",rel:"noopener noreferrer"}},[a._v("MySQLç´¢å¼•èƒŒåçš„æ•°æ®ç»“æ„åŠç®—æ³•åŸç†"),t("OutboundLink")],1)])])])],1)}),[],!1,null,null,null);s.default=r.exports}}]);